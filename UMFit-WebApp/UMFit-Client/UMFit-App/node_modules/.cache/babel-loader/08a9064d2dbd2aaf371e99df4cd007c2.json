{"ast":null,"code":"import _regeneratorRuntime from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/inherits\";import{IonButton,IonContent,IonHeader,IonIcon,IonItem,IonLabel,IonList,IonPage,IonSearchbar,IonSelect,IonSelectOption,IonTitle,IonToolbar,IonButtons,IonMenuButton}from\"@ionic/react\";import{atCircle,informationCircle,person}from'ionicons/icons';import React from\"react\";import{getAllClients,selectUser as _selectUser,updateUserCat}from\"../../models/API/UserAPI\";import\"../css/RemoveUser.css\";//const testing = true;\nvar noSelection={index:-1,name:\"string\",email:\"string\",cat:\"string\"};var RemoveUser=/*#__PURE__*/function(_React$Component){_inherits(RemoveUser,_React$Component);function RemoveUser(props){var _this;_classCallCheck(this,RemoveUser);_this=_possibleConstructorReturn(this,_getPrototypeOf(RemoveUser).call(this,props));_this.state=void 0;_this.state={query:\"\",lista_inicial:[],render_next:[],show_next:noSelection};return _this;}_createClass(RemoveUser,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var init;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:init=[\"Email1\",\"email2\",\"oogle.1\",\"gloogloog.2\",\"net.net\",\"yeet@3\",\"3.@yeet\"];_context2.next=3;return getAllClients().then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(value){var json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(value.status===200)){_context.next=6;break;}json=value.json();_context.next=4;return json.then(function(value){init=value.users;});case 4:_context.next=7;break;case 6:alert(\"REQUEST ERROR \"+value.status);case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}()).catch(function(error){alert(\"Server is currently down... \\n\\n\".concat(\"Error details: \\n\\n\\t\").concat(error));});case 3:this.setState({lista_inicial:init,render_next:init});case 4:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"selectUser\",value:function selectUser(index){var _this2=this;var selection={name:\"\",email:\"\",cat:\"\",index:index};//var apiCall:UserBasicInfo = {name:\"ByeBye\", email:\"net.net\", cat:\"Bot\", localidade:\"LocalHost\"} ;\nif(index===this.state.show_next.index)selection=noSelection;else{var res=_selectUser(this.state.render_next[index]);res.then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(value){var json;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(value.status===200)){_context3.next=6;break;}json=value.json();_context3.next=4;return json.then(function(value){var resValue=JSON.parse(value);console.log(resValue.user);selection={name:resValue.user.name,email:resValue.user.email,cat:resValue.user.categoria,index:index};_this2.setState({show_next:selection});});case 4:_context3.next=7;break;case 6:alert(\"REQUEST ERROR \"+value.status);case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref2.apply(this,arguments);};}()).catch(function(error){alert(\"Server is currently down... \\n\\n\".concat(\"Error details: \\n\\n\\t\").concat(error));});}this.setState({show_next:selection});}},{key:\"setCat\",value:function setCat(e){e.stopPropagation();var tmp=this.state.show_next;tmp.cat=e.detail.value;this.setState({show_next:tmp});}},{key:\"editarUser\",value:function editarUser(email){var send=this.state.show_next;var receive=updateUserCat({userEmail:send.email,tipo:send.cat,valueST:localStorage.getItem(\"token\")});receive.then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(value){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(value.status!==200)alert(\"REQUEST ERROR : \"+value.status);case 1:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x3){return _ref3.apply(this,arguments);};}());}},{key:\"setQuery\",value:function setQuery(stringSearch){var resultado=this.state.lista_inicial.filter(function(value){return value.toLowerCase().indexOf(stringSearch.toLowerCase())>=0;});this.setState({query:stringSearch,render_next:resultado,show_next:noSelection});}},{key:\"render\",value:function render(){var _this3=this;var selected=this.state.show_next;var renderList=this.state.render_next;return React.createElement(IonPage,null,React.createElement(IonHeader,null,React.createElement(IonToolbar,{color:\"primary\"},React.createElement(IonButtons,{slot:\"start\"},React.createElement(IonMenuButton,null)),React.createElement(IonTitle,{id:\"page-title\"},\"Editar utilizador\"))),React.createElement(IonToolbar,null,React.createElement(IonSearchbar,{value:this.state.query,onIonChange:function onIonChange(e){return _this3.setQuery(e.detail.value);},placeholder:\"Email do utilizador...\"})),React.createElement(IonContent,{className:\"PageContent\"},React.createElement(IonList,null,renderList.map(function(element,index){return React.createElement(IonItem,{key:element,className:\"item\",button:true,onClick:function onClick(){return _this3.selectUser(index);}},selected.index===index?React.createElement(React.Fragment,null,React.createElement(IonList,{className:\"inlist\",lines:\"none\"},React.createElement(IonItem,{className:\"inheritBackground\"},React.createElement(IonIcon,{className:\"icon\",icon:atCircle}),React.createElement(IonLabel,{color:\"primary\"},element)),React.createElement(IonItem,{className:\"inheritBackground\"},React.createElement(IonIcon,{icon:person,className:\"icon\"}),React.createElement(IonLabel,{color:\"primary\",className:\"inheritBackground\"},selected.name)),React.createElement(IonItem,null,React.createElement(IonIcon,{className:\"icon\",icon:informationCircle}),React.createElement(IonLabel,null,\"Tipo de s\\xF3cio: \"),React.createElement(IonSelect,{value:selected.cat,onClick:function onClick(e){return e.stopPropagation();},onIonChange:function onIonChange(e){return _this3.setCat(e);}},React.createElement(IonSelectOption,{value:\"Cliente Standard\"},\"Standard\"),React.createElement(IonSelectOption,{value:\"Cliente Premium\"},\"Premium\"))),React.createElement(IonButton,{color:\"warning\",expand:\"block\",onClick:function onClick(){return _this3.editarUser(element);}},\"Alterar Categoria\"))):React.createElement(React.Fragment,null,React.createElement(IonIcon,{className:\"icon\",icon:atCircle}),React.createElement(IonLabel,{color:\"primary\"},element)));}))));}}]);return RemoveUser;}(React.Component);export default RemoveUser;","map":{"version":3,"sources":["/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/src/pages/funcionario/EditarUtilizador.tsx"],"names":["IonButton","IonContent","IonHeader","IonIcon","IonItem","IonLabel","IonList","IonPage","IonSearchbar","IonSelect","IonSelectOption","IonTitle","IonToolbar","IonButtons","IonMenuButton","atCircle","informationCircle","person","React","getAllClients","selectUser","updateUserCat","noSelection","index","name","email","cat","RemoveUser","props","state","query","lista_inicial","render_next","show_next","init","then","value","status","json","users","alert","catch","error","concat","setState","selection","res","resValue","JSON","parse","console","log","user","categoria","e","stopPropagation","tmp","detail","send","receive","userEmail","tipo","valueST","localStorage","getItem","stringSearch","resultado","filter","toLowerCase","indexOf","selected","renderList","setQuery","map","element","setCat","editarUser","Component"],"mappings":"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","sourcesContent":["import { IonButton, IonContent, IonHeader, IonIcon, IonItem, IonLabel, IonList, IonPage, IonSearchbar, IonSelect, IonSelectOption, IonTitle, IonToolbar, IonButtons, IonMenuButton } from \"@ionic/react\";\nimport { atCircle, informationCircle, person } from 'ionicons/icons';\nimport React from \"react\";\nimport { getAllClients, selectUser, updateUserCat } from \"../../models/API/UserAPI\";\nimport \"../css/RemoveUser.css\";\n\n\n\n//const testing = true;\n\ninterface SelectedUser{\n    index:number,\n    name:string,\n    email:string,\n    cat:string\n}\n\nconst noSelection : SelectedUser = {index:-1, name:\"string\", email:\"string\", cat:\"string\"}\n\nclass RemoveUser extends React.Component<any> {\n    \n    state:{\n        query:string,\n        lista_inicial:string[],\n        render_next:string[],\n        show_next:SelectedUser\n    }\n\n    constructor(props: any) {\n\n        super(props);\n\n        this.state = {  \n            query : \"\",\n            lista_inicial: [],\n            render_next: [],\n            show_next :noSelection\n        }\n    }\n\n    async componentDidMount(){\n        \n        var init:string[]=[\"Email1\",\"email2\",\"oogle.1\",\"gloogloog.2\",\"net.net\",\"yeet@3\",\"3.@yeet\",];\n        \n        await getAllClients()\n        .then(\n            async (value) =>{\n                if (value.status === 200) {              \n                    \n                    var json = value.json();\n\n                    await json.then((value) => {\n                        init= value.users;\n                    });\n               \n                    } else {\n                    alert(\"REQUEST ERROR \"+value.status);\n                }\n            }).catch(function(error) {\n              alert(\"Server is currently down... \\n\\n\".concat(\"Error details: \\n\\n\\t\").concat(error));\n            });\n    \n\n        this.setState({\n            lista_inicial: init,\n            render_next: init\n        })\n\n    }\n    selectUser(index:number):void{\n        \n        var selection ={name:\"\", email:\"\", cat:\"\",index:index};\n        \n        //var apiCall:UserBasicInfo = {name:\"ByeBye\", email:\"net.net\", cat:\"Bot\", localidade:\"LocalHost\"} ;\n        if(index===this.state.show_next.index) selection=noSelection; \n        else{\n        \n        var res = selectUser(this.state.render_next[index]);\n        res.then(\n            async (value) =>{\n                if (value.status === 200) {              \n                    var json = value.json();\n                    await json.then((value) =>  {\n                        const resValue = JSON.parse(value);\n                        console.log(resValue.user)\n                        selection = {name:resValue.user.name,\n                                    email:resValue.user.email,\n                                    cat:resValue.user.categoria,\n                                    index:index}\n                        this.setState({show_next : selection})\n                    });\n                } else {\n                    alert(\"REQUEST ERROR \"+value.status);\n                }\n            }).catch(function(error) {\n              alert(\"Server is currently down... \\n\\n\".concat(\"Error details: \\n\\n\\t\").concat(error));\n            });\n        \n    }\n    \n        this.setState({show_next : selection})\n    }\n\n    setCat(e : any){\n        e.stopPropagation();\n        var tmp =this.state.show_next;\n        tmp.cat=e.detail.value!;\n        this.setState({ show_next: tmp })\n    }\n\n    editarUser(email: string) {\n        var send = this.state.show_next;\n        var receive = updateUserCat({userEmail: send.email,tipo : send.cat, valueST : localStorage.getItem(\"token\") });\n        receive.then(\n            async (value) =>{\n                if (value.status !== 200) alert(\"REQUEST ERROR : \"+value.status);\n            }\n        )\n    }\n\n    setQuery(stringSearch: any) {\n        var resultado = this.state.lista_inicial\n            .filter(function(value){return value.toLowerCase().indexOf(stringSearch.toLowerCase()) >= 0;});\n        this.setState({\n        \n            query: stringSearch,\n            render_next: resultado,\n            show_next:noSelection\n        })\n    }\n    render() {\n\n        var selected= this.state.show_next;\n        var renderList = this.state.render_next;\n\n        return(\n            \n            <IonPage>\n\n                <IonHeader>\n                <IonToolbar color=\"primary\">\n                <IonButtons slot=\"start\">\n                    <IonMenuButton />\n                </IonButtons>\n                <IonTitle id=\"page-title\">Editar utilizador</IonTitle>\n                </IonToolbar>\n                </IonHeader>\n\n                <IonToolbar>\n                <IonSearchbar value={this.state.query} onIonChange={e => this.setQuery(e.detail.value!)} placeholder=\"Email do utilizador...\">\n                </IonSearchbar>\n                </IonToolbar>\n    \n                <IonContent className=\"PageContent\">\n                \n                <IonList>\n                {renderList.map(\n                (element,index)=>\n                <IonItem key={element} className=\"item\" button={true}  onClick={() =>this.selectUser(index)}>\n                    {selected.index===index?\n                    <React.Fragment >\n                    <IonList className=\"inlist\" lines=\"none\"  >\n                    <IonItem className=\"inheritBackground\" >\n                        <IonIcon className=\"icon\" icon ={atCircle}></IonIcon>\n                        <IonLabel color=\"primary\" >{element}</IonLabel>\n                        </IonItem>\n                           <IonItem className=\"inheritBackground\" >\n                            <IonIcon icon={person} className=\"icon\" ></IonIcon>\n                            <IonLabel color=\"primary\" className=\"inheritBackground\">{selected.name}</IonLabel>\n                            </IonItem>\n\n                            <IonItem>\n                                <IonIcon className =\"icon\" icon={informationCircle}></IonIcon>\n                                <IonLabel>Tipo de sócio: </IonLabel>    \n                                <IonSelect value={selected.cat} onClick={(e)=> e.stopPropagation()} onIonChange={(e) =>this.setCat(e)}>\n                                    <IonSelectOption value=\"Cliente Standard\">Standard</IonSelectOption>\n                                    <IonSelectOption value=\"Cliente Premium\">Premium</IonSelectOption>\n                                </IonSelect>\n\n                            </IonItem>\n\n                            <IonButton color=\"warning\" expand=\"block\" onClick={()=>this.editarUser(element)}>\n                                Alterar Categoria    \n                            </IonButton>\n                              \n                    </IonList>\n                    </React.Fragment>\n                    \n                    :\n                    <React.Fragment>\n                    <IonIcon className=\"icon\" icon ={atCircle}></IonIcon>\n                    <IonLabel color=\"primary\" >{element}</IonLabel>\n                    </React.Fragment>\n                    }\n                    \n                    </IonItem> \n                    )}\n                \n                </IonList>\n                </IonContent>\n                \n            </IonPage>    \n        );\n    }\n    \n}\nexport default RemoveUser;"]},"metadata":{},"sourceType":"module"}