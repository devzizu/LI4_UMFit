{"ast":null,"code":"import _regeneratorRuntime from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/inherits\";import{IonButton,IonCard,IonCardContent,IonCol,IonContent,IonDatetime,IonGrid,IonHeader,IonIcon,IonInput,IonItem,IonLabel,IonList,IonPage,IonRadio,IonRadioGroup,IonRow,IonSearchbar,IonText,IonTextarea,IonTitle,IonToolbar,IonLoading,IonAlert,IonButtons,IonMenuButton}from\"@ionic/react\";import{addCircleSharp,addOutline,closeCircleSharp,trashOutline}from\"ionicons/icons\";import React from\"react\";import{getListaRefeicoes,setPlanoAlimentar}from\"../../models/API/PlanoAlimentarAPI\";import{getAllClientsPremium,selectUser}from\"../../models/API/UserAPI\";import{PlanoAlimentar}from'../../models/Other/PlanoAlimentar';import\"../css/CriarPlanoAlimentar.css\";var CriarPlanoAlimentar=/*#__PURE__*/function(_React$Component){_inherits(CriarPlanoAlimentar,_React$Component);function CriarPlanoAlimentar(props){var _this;_classCallCheck(this,CriarPlanoAlimentar);_this=_possibleConstructorReturn(this,_getPrototypeOf(CriarPlanoAlimentar).call(this,props));_this.state=void 0;_this.state={nome_plano_alimentar:\"\",refeicoes_livres:\"\",frequencia:\"\",data_fim:\"\",lista_mails_inicial:new Array(),mail_inserido:\"\",user_mail:\"\",user_nome:\"\",loading:\"\",alert:\"\",lista_refeicoes_inicial:new Array(),lista_refeicoes_selecionados:new Array(),nome_refeicao:\"\",refeicao:{nome:\"\",descricao:\"\"},planoAlimentar:new PlanoAlimentar(\"\",\"\",\"\",\"\",new Array())};return _this;}_createClass(CriarPlanoAlimentar,[{key:\"setUserMail\",value:function(){var _setUserMail=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(mail){var _this2=this;var user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return selectUser(mail);case 2:user=_context.sent;user.json().then(function(json){var user=JSON.parse(json);_this2.setState({user_nome:user.user.name,user_mail:mail});});case 4:case\"end\":return _context.stop();}}},_callee);}));function setUserMail(_x){return _setUserMail.apply(this,arguments);}return setUserMail;}()},{key:\"setNomePlano\",value:function setNomePlano(nome){this.setState({nome_plano_alimentar:nome});}},{key:\"setFreq\",value:function setFreq(freq){this.setState({frequencia:freq});}},{key:\"setRefLiv\",value:function setRefLiv(refeicoes){this.setState({refeicoes_livres:refeicoes});}},{key:\"setNomeRefeicao\",value:function setNomeRefeicao(nome){this.setState({refeicao:Object.assign(this.state.refeicao,{nome:nome})});}},{key:\"setDescricao\",value:function setDescricao(descri){this.setState({exercicio:Object.assign(this.state.refeicao,{descricao:descri})});}},{key:\"addRefeicao\",value:function addRefeicao(){var list_refeicoes=JSON.parse(JSON.stringify(this.state.lista_refeicoes_selecionados));var Exercicio=JSON.parse(JSON.stringify(this.state.refeicao));list_refeicoes.push(Exercicio);this.setState({lista_refeicoes_selecionados:list_refeicoes});this.setState({alert:\"Refeição Adicionada!\",exercicio:Object.assign(this.state.refeicao,{descricao:\"\"})});}},{key:\"rmRefeicao\",value:function rmRefeicao(indice){var list_refeicoes=JSON.parse(JSON.stringify(this.state.lista_refeicoes_selecionados));list_refeicoes.splice(indice,1);this.setState({lista_refeicoes_selecionados:list_refeicoes});}},{key:\"setSearchMail\",value:function setSearchMail(stringSearch){this.setState({mail_inserido:stringSearch});}},{key:\"setSearchExercicio\",value:function setSearchExercicio(stringSearch){this.setState({nome_refeicao:stringSearch});}},{key:\"limparPlanoAlimentar\",value:function limparPlanoAlimentar(b){var al=b?\"Plano limpo!\":\"\";this.setState({nome_plano_alimentar:\"\",refeicoes_livres:\"\",frequencia:\"\",lista_refeicoes_selecionados:new Array(),alert:al,nome_refeicao:\"\",exercicio:{nome:\"\",nm_repeticoes:\"\",nm_series:\"\"}});}},{key:\"addPlanoAlimentar\",value:function addPlanoAlimentar(){var _this3=this;this.setState({loading:\"A adicionar plano...\"});var pa=new PlanoAlimentar(this.state.nome_plano_alimentar,this.state.refeicoes_livres,this.state.frequencia,this.state.data_fim,this.state.lista_refeicoes_selecionados);var resultado={email:this.state.user_mail,planoAlimentar:pa,valueST:localStorage.getItem(\"token\")};setPlanoAlimentar(resultado).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(value){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.t0=value.status;_context2.next=_context2.t0===200?3:_context2.t0===400?5:7;break;case 3:_this3.setState({loading:\"\",alert:\"Plano Adicionado!\"});return _context2.abrupt(\"break\",7);case 5:_this3.setState({loading:\"\",alert:\"Verifique se os campos estão válidos\"});return _context2.abrupt(\"break\",7);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref.apply(this,arguments);};}());console.log(resultado);this.limparPlanoAlimentar(false);}},{key:\"componentDidMount\",value:function componentDidMount(){var _this4=this;var refeicoes=[\"\"];var emails=[\"\"];getAllClientsPremium().then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(value){var json;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(value.status===200)){_context3.next=6;break;}json=value.json();_context3.next=4;return json.then(function(value){emails=value.users;_this4.setState({lista_mails_inicial:emails});});case 4:_context3.next=7;break;case 6:alert(\"REQUEST ERROR \"+value.status);case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref2.apply(this,arguments);};}()).catch(function(error){alert(\"Server is currently down... \\n\\n\".concat(\"Error details: \\n\\n\\t\").concat(error));});getListaRefeicoes().then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(value){var json;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!(value.status===200)){_context4.next=6;break;}json=value.json();_context4.next=4;return json.then(function(value){console.log(value);refeicoes=JSON.parse(value).refeicoes;_this4.setState({lista_refeicoes_inicial:refeicoes});});case 4:_context4.next=7;break;case 6:alert(\"REQUEST ERROR \"+value.status);case 7:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref3.apply(this,arguments);};}()).catch(function(error){alert(\"Server is currently down... \\n\\n\".concat(\"Error details: \\n\\n\\t\").concat(error));});}},{key:\"render\",value:function render(){var _this5=this;var query=this.state.nome_refeicao;var mail=this.state.mail_inserido;var lista_ex_resultado=this.state.lista_refeicoes_inicial.filter(function(value){return value.toLowerCase().indexOf(query.toLowerCase())>=0;});var lista_mails_resultado=this.state.lista_mails_inicial.filter(function(value){return value.toLowerCase().indexOf(mail.toLowerCase())>=0;});return React.createElement(IonPage,null,React.createElement(IonHeader,null,React.createElement(IonToolbar,{color:\"primary\"},React.createElement(IonButtons,{slot:\"start\"},React.createElement(IonMenuButton,null)),React.createElement(IonTitle,{id:\"page-title\"},\"Plano Alimentar\"))),React.createElement(IonContent,null,React.createElement(IonLoading,{isOpen:this.state.loading!==\"\",onDidDismiss:function onDidDismiss(){_this5.setState({loading:\"\"});},message:this.state.loading}),React.createElement(IonAlert,{isOpen:this.state.alert!==\"\",onDidDismiss:function onDidDismiss(){return _this5.setState({alert:\"\"});},header:'Aviso',message:this.state.alert,buttons:['Ok, percebido!']}),React.createElement(\"div\",{className:\"separador\"}),React.createElement(IonCard,{className:\"card-left\"},React.createElement(IonText,{className:\"responsiveTitlePA\"},\"Email (para clientes Premium):\")),React.createElement(IonGrid,{className:\"layout-selecao-mails\"},React.createElement(IonRow,null,React.createElement(IonCol,null,React.createElement(IonSearchbar,{className:\"searchMailPA\",placeholder:\"E-Mail?\",value:this.state.mail_inserido,onIonChange:function onIonChange(e){return _this5.setSearchMail(e.detail.value);}}))),React.createElement(IonRow,null,React.createElement(IonCol,null,React.createElement(IonContent,{className:\"comprimento-lista-mails\"},React.createElement(IonList,null,React.createElement(IonRadioGroup,{value:this.state.user_mail,onIonChange:function onIonChange(e){return _this5.setUserMail(e.detail.value);}},lista_mails_resultado.map(function(s){return React.createElement(IonItem,{key:s},React.createElement(IonLabel,{class:\"ion-text-wrap\"},React.createElement(\"div\",{className:\"detailsPA\"},s)),React.createElement(IonRadio,{value:s,slot:\"end\"}));}))))))),React.createElement(\"div\",{className:\"separador\"}),React.createElement(IonCard,{className:\"card-left\"},React.createElement(IonText,{className:\"responsiveTitlePA\"},\"Utilizador Selecionado:\")),React.createElement(IonCard,{className:\"card-left\"},React.createElement(\"img\",{src:require('../../imgs/perfil_pic.png'),width:\"100\",height:\"100\",alt:\"Loading...\"}),React.createElement(IonCardContent,null,React.createElement(\"b\",null,\"Nome:\"),\" \",this.state.user_nome,React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"b\",null,\"Email:\"),\" \",this.state.user_mail)),React.createElement(\"div\",{className:\"separador\"}),React.createElement(IonCard,{className:\"card-left\"},React.createElement(IonText,{className:\"responsiveTitlePA\"},\"Especifica\\xE7\\xF5es do Plano Alimentar:\")),React.createElement(IonCard,{className:\"card-center\"},React.createElement(IonList,{className:\"descricao-plano\"},React.createElement(IonItem,null,React.createElement(IonLabel,{class:\"ion-text-wrap\"},React.createElement(\"div\",{className:\"detailsPA\"},\"Nome: \")),React.createElement(IonInput,{value:this.state.nome_plano_alimentar,onIonChange:function onIonChange(e){_this5.setNomePlano(e.detail.value);}})),React.createElement(IonItem,null,React.createElement(IonLabel,{class:\"ion-text-wrap\"},React.createElement(\"div\",{className:\"detailsPA\"},\"Frequ\\xEAncia: \")),React.createElement(IonInput,{value:this.state.frequencia,onIonChange:function onIonChange(e){_this5.setFreq(e.detail.value);}})),React.createElement(IonItem,null,React.createElement(IonLabel,{class:\"ion-text-wrap\"},React.createElement(\"div\",{className:\"detailsPA\"},\"N\\xBA Ref. Livres: \")),React.createElement(IonInput,{value:this.state.refeicoes_livres,onIonChange:function onIonChange(e){_this5.setRefLiv(e.detail.value);}})),React.createElement(IonItem,null,React.createElement(IonLabel,{class:\"ion-text-wrap\"},React.createElement(\"div\",{className:\"detailsPA\"},\"Data de Fim:\")),React.createElement(IonDatetime,{className:\"minquarterWidth\",value:this.state.data_fim,onIonChange:function onIonChange(e){_this5.setState({data_fim:e.detail.value});}})))),React.createElement(\"div\",{className:\"separador\"}),React.createElement(IonCard,{className:\"card-left\"},React.createElement(IonText,{className:\"responsiveTitlePA\"},\"Sele\\xE7\\xE3o de Refei\\xE7\\xF5es:\")),React.createElement(IonGrid,{className:\"layout-selecao-refeicoes\"},React.createElement(IonRow,{className:\"espaco-vertical-search\"},React.createElement(IonToolbar,null,React.createElement(IonSearchbar,{className:\"searchMailPA\",value:this.state.nome_refeicao,onIonChange:function onIonChange(e){return _this5.setSearchExercicio(e.detail.value);},placeholder:\"Refei\\xE7\\xE3o?\"}))),React.createElement(IonRow,null,React.createElement(IonCol,null,React.createElement(IonContent,{className:\"mailListPA\"},React.createElement(IonList,null,React.createElement(IonRadioGroup,{value:this.state.refeicao.nome,onIonChange:function onIonChange(e){return _this5.setNomeRefeicao(e.detail.value);}},lista_ex_resultado.map(function(s){return React.createElement(IonItem,{key:s},React.createElement(IonLabel,{class:\"ion-text-wrap\"},React.createElement(\"div\",{className:\"detailsPA\"},s)),React.createElement(IonRadio,{value:s,slot:\"end\"}));})))))),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(IonRow,null,React.createElement(IonCol,null,React.createElement(IonText,{className:\"responsiveTitlePA\"},\"Descri\\xE7\\xE3o da refei\\xE7\\xE3o:\"),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(IonTextarea,{className:\"detailsMealPA\",value:this.state.refeicao.descricao,onIonChange:function onIonChange(e){return _this5.setDescricao(e.detail.value);}}))),React.createElement(IonRow,null,React.createElement(IonCol,{class:\"ion-text-center\"},React.createElement(IonButton,{className:\"buttonAddRefeicao\",onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_this5.addRefeicao();case 1:case\"end\":return _context5.stop();}}},_callee5);}))},\"Adicionar refei\\xE7\\xE3o \",React.createElement(\"b\",null,\"\\xA0\\xA0\"),React.createElement(IonIcon,{slot:\"icon-only\",icon:addCircleSharp}))))),React.createElement(\"div\",{className:\"separador\"}),React.createElement(IonCard,{className:\"card-left\"},React.createElement(IonText,{className:\"responsiveTitlePA\"},\"Lista de refei\\xE7\\xF5es selecionadas:\")),React.createElement(IonGrid,{className:\"grid-exercicios\"},React.createElement(IonCard,{className:\"background-orange\"},React.createElement(IonCardContent,null,React.createElement(IonRow,null,React.createElement(IonCol,{className:\"search-content\"},React.createElement(IonLabel,{class:\"ion-text-wrap\"},React.createElement(\"div\",{className:\"detailsPA\"},\"Refei\\xE7\\xE3o / Descri\\xE7\\xE3o \")))))),this.state.lista_refeicoes_selecionados.map(function(s,i){return React.createElement(IonCard,{key:i+s.descricao+s.nome},React.createElement(IonCardContent,{className:\"border-color\"},React.createElement(IonRow,null,React.createElement(IonCol,{className:\"search-content\"},React.createElement(IonLabel,{className:\"detailsPA\"},React.createElement(\"b\",null,\"Tipo: \"),s.nome))),React.createElement(IonRow,null,React.createElement(IonCol,{className:\"search-content\"},React.createElement(IonText,{className:\"detailsPA\"},React.createElement(\"b\",null,\"Descri\\xE7\\xE3o: \"),s.descricao))),React.createElement(IonRow,null,React.createElement(IonCol,null,React.createElement(IonButton,{size:\"small\",onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_this5.rmRefeicao.call(_this5,i);case 1:case\"end\":return _context6.stop();}}},_callee6);}))},\"Remover \",React.createElement(\"b\",null,\"\\xA0\"),React.createElement(IonIcon,{slot:\"icon-only\",icon:closeCircleSharp}))))));})),React.createElement(IonGrid,{className:\"grid-exercicios\"},React.createElement(IonRow,null,React.createElement(IonCol,null,React.createElement(IonButton,{className:\"botaoGridPA\",color:\"success\",onClick:function onClick(){_this5.limparPlanoAlimentar(true);}},React.createElement(IonText,null,\" Limpar\"),React.createElement(IonIcon,{slot:\"icon-only\",icon:trashOutline})),React.createElement(IonButton,{className:\"botaoGridPA\",onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_this5.addPlanoAlimentar.call(_this5);case 1:case\"end\":return _context7.stop();}}},_callee7);}))},React.createElement(IonText,null,\" Adicionar\"),React.createElement(IonIcon,{slot:\"icon-only\",icon:addOutline})))))));}}]);return CriarPlanoAlimentar;}(React.Component);export default CriarPlanoAlimentar;","map":{"version":3,"sources":["/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/src/pages/instrutor/CriarPlanoAlimentar.tsx"],"names":["IonButton","IonCard","IonCardContent","IonCol","IonContent","IonDatetime","IonGrid","IonHeader","IonIcon","IonInput","IonItem","IonLabel","IonList","IonPage","IonRadio","IonRadioGroup","IonRow","IonSearchbar","IonText","IonTextarea","IonTitle","IonToolbar","IonLoading","IonAlert","IonButtons","IonMenuButton","addCircleSharp","addOutline","closeCircleSharp","trashOutline","React","getListaRefeicoes","setPlanoAlimentar","getAllClientsPremium","selectUser","PlanoAlimentar","CriarPlanoAlimentar","props","state","nome_plano_alimentar","refeicoes_livres","frequencia","data_fim","lista_mails_inicial","Array","mail_inserido","user_mail","user_nome","loading","alert","lista_refeicoes_inicial","lista_refeicoes_selecionados","nome_refeicao","refeicao","nome","descricao","planoAlimentar","mail","user","json","then","JSON","parse","setState","name","freq","refeicoes","Object","assign","descri","exercicio","list_refeicoes","stringify","Exercicio","push","indice","splice","stringSearch","b","al","nm_repeticoes","nm_series","pa","resultado","email","valueST","localStorage","getItem","value","status","console","log","limparPlanoAlimentar","emails","users","catch","error","concat","query","lista_ex_resultado","filter","toLowerCase","indexOf","lista_mails_resultado","e","setSearchMail","detail","setUserMail","map","s","require","setNomePlano","setFreq","setRefLiv","setSearchExercicio","setNomeRefeicao","setDescricao","addRefeicao","i","rmRefeicao","call","addPlanoAlimentar","Component"],"mappings":"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","sourcesContent":["\nimport { IonButton, IonCard, IonCardContent, IonCol, IonContent, IonDatetime, IonGrid, IonHeader, IonIcon, IonInput, IonItem, IonLabel, IonList, IonPage, IonRadio, IonRadioGroup, IonRow, IonSearchbar, IonText, IonTextarea, IonTitle, IonToolbar, IonLoading, IonAlert, IonButtons, IonMenuButton } from \"@ionic/react\";\nimport { addCircleSharp, addOutline, closeCircleSharp, trashOutline } from \"ionicons/icons\";\nimport React from \"react\";\nimport { getListaRefeicoes, setPlanoAlimentar } from \"../../models/API/PlanoAlimentarAPI\";\nimport { getAllClientsPremium, selectUser } from \"../../models/API/UserAPI\";\nimport { PlanoAlimentar, Refeicao } from '../../models/Other/PlanoAlimentar';\nimport \"../css/CriarPlanoAlimentar.css\";\n\nclass CriarPlanoAlimentar extends React.Component<any>{\n\n    state: {\n        \n        nome_plano_alimentar: string\n        refeicoes_livres: string\n        frequencia: string\n        data_fim:string\n\n        lista_mails_inicial: Array<string>\n        mail_inserido: string\n\n        user_mail: string\n        user_nome: string\n\n        lista_refeicoes_inicial: Array<string>\n        lista_refeicoes_selecionados: Array<Refeicao>\n\n        nome_refeicao: string\n        refeicao: Refeicao\n\n        loading : string\n        alert :string\n        \n        planoAlimentar: PlanoAlimentar\n    }\n\n    constructor(props: any) {\n\n        super(props);\n    \n        this.state = {\n\n            nome_plano_alimentar: \"\",\n            refeicoes_livres: \"\",\n            frequencia: \"\",\n            data_fim: \"\",\n\n            lista_mails_inicial: new Array<string>(),\n            mail_inserido: \"\",\n\n            user_mail: \"\",\n            user_nome: \"\",\n\n            loading: \"\",\n            alert: \"\",\n\n            lista_refeicoes_inicial: new Array<string>(),\n            lista_refeicoes_selecionados: new Array<Refeicao>(),\n\n            nome_refeicao: \"\",\n\n            refeicao: {\n                nome: \"\",\n                descricao: \"\"\n            },\n\n            planoAlimentar : new PlanoAlimentar(\"\",\"\",\"\",\"\",new Array<Refeicao>())\n\n        }        \n    }\n\n    async setUserMail(mail: any){\n        var user = await selectUser(mail);\n        user.json().then(\n            (json)=>{\n                var user =  JSON.parse(json);\n                this.setState({user_nome : user.user.name,user_mail: mail})\n            }\n        )\n\n        \n\n    }\n\n    setNomePlano(nome: any){\n\n        this.setState({nome_plano_alimentar: nome})\n    }\n    \n    setFreq(freq: any) {\n        this.setState({frequencia: freq})\n    }\n\n    setRefLiv(refeicoes: any) {\n        this.setState({refeicoes_livres: refeicoes})\n    }\n    \n    setNomeRefeicao(nome: any){\n\n        this.setState({refeicao: Object.assign(this.state.refeicao,{nome: nome})})\n    }\n\n    setDescricao(descri: any){\n\n        this.setState({exercicio: Object.assign(this.state.refeicao,{descricao: descri})})\n    }\n\n    addRefeicao(){\n\n        var list_refeicoes = JSON.parse(JSON.stringify(this.state.lista_refeicoes_selecionados))\n\n        var Exercicio = JSON.parse(JSON.stringify(this.state.refeicao))\n\n        list_refeicoes.push(Exercicio)\n\n        this.setState({lista_refeicoes_selecionados: list_refeicoes})\n        this.setState({alert: \"Refeição Adicionada!\", exercicio: Object.assign(this.state.refeicao,{descricao: \"\"})})\n    }\n\n    rmRefeicao(indice : any){\n\n        var list_refeicoes = JSON.parse(JSON.stringify(this.state.lista_refeicoes_selecionados))\n\n        list_refeicoes.splice(indice, 1)\n\n        this.setState({lista_refeicoes_selecionados: list_refeicoes})\n    }\n\n    setSearchMail(stringSearch: any){\n\n        this.setState({mail_inserido: stringSearch})\n    }\n\n    setSearchExercicio(stringSearch: any) {\n        \n        this.setState({nome_refeicao: stringSearch})\n\n    }      \n\n    limparPlanoAlimentar(b :boolean){\n\n        var al = (b? \"Plano limpo!\" : \"\");\n\n        this.setState({\n\n            nome_plano_alimentar: \"\",\n            refeicoes_livres: \"\",\n            frequencia: \"\",\n\n            lista_refeicoes_selecionados: new Array<Refeicao>(),\n            \n            alert: al,\n\n            nome_refeicao: \"\",\n\n            exercicio: {\n                nome: \"\",\n                nm_repeticoes: \"\", \n                nm_series: \"\"\n            }\n        })\n    }\n\n    addPlanoAlimentar(){\n        this.setState({loading:\"A adicionar plano...\"})\n\n        var pa: PlanoAlimentar = new PlanoAlimentar(  this.state.nome_plano_alimentar,\n                                                      this.state.refeicoes_livres, \n                                                      this.state.frequencia,\n                                                      this.state.data_fim, \n                                                      this.state.lista_refeicoes_selecionados)\n\n        var resultado = {\n\n            email: this.state.user_mail,\n            planoAlimentar: pa,\n            valueST : localStorage.getItem(\"token\")\n        }\n        setPlanoAlimentar(resultado).then(\n            async (value: any) =>{\n                switch (value.status){\n                    case 200 : this.setState({loading:\"\",alert:\"Plano Adicionado!\"});break;\n                    case 400 : this.setState({loading:\"\",alert:\"Verifique se os campos estão válidos\"}); break;\n                }});\n        console.log(resultado)\n        this.limparPlanoAlimentar(false);\n    }\n\n    componentDidMount(){\n        var  refeicoes:string[] =  [\"\"];\n        var  emails:string[] =  [\"\"];\n\n        getAllClientsPremium().then(\n            async (value) =>{\n                if (value.status === 200) {              \n                    \n                    var json = value.json();\n\n                    await json.then((value) => {\n                        emails = value.users;\n                        this.setState({lista_mails_inicial:emails})\n                    });\n               \n                    } else {\n                    alert(\"REQUEST ERROR \"+value.status);\n                }\n            })\n            .catch(function(error) {\n              alert(\"Server is currently down... \\n\\n\".concat(\"Error details: \\n\\n\\t\").concat(error));\n            });\n\n        getListaRefeicoes().then(\n           async (value) =>{\n               if (value.status === 200) {                             \n                   var json = value.json();\n               await  json.then((value : any) => {\n                       console.log(value);\n                       refeicoes = JSON.parse(value).refeicoes;\n                       this.setState({lista_refeicoes_inicial: refeicoes});  \n                   });\n              \n                   } else {\n                   alert(\"REQUEST ERROR \"+value.status);\n               }\n           })\n           .catch(function(error) {\n             alert(\"Server is currently down... \\n\\n\".concat(\"Error details: \\n\\n\\t\").concat(error));\n           });\n        \n\n\n    }\n    \n\n    render(){\n    \n    const query = this.state.nome_refeicao\n    const mail = this.state.mail_inserido\n    \n    var lista_ex_resultado = this.state.lista_refeicoes_inicial.filter(function(value){\n        return value.toLowerCase().indexOf(query.toLowerCase()) >= 0;})    \n\n    var lista_mails_resultado = this.state.lista_mails_inicial.filter(function(value){\n        return value.toLowerCase().indexOf(mail.toLowerCase()) >= 0;})    \n    \n    return(\n      <IonPage>\n\n        \n        \n        <IonHeader>\n        <IonToolbar color=\"primary\">\n          <IonButtons slot=\"start\">\n            <IonMenuButton />\n          </IonButtons>\n          <IonTitle id=\"page-title\">Plano Alimentar</IonTitle>\n          </IonToolbar>\n        </IonHeader>\n\n        <IonContent>\n\n        <IonLoading\n      isOpen={this.state.loading!==\"\"}\n      onDidDismiss={() => {this.setState({loading: \"\"})}}\n      message={this.state.loading}\n    />\n        <IonAlert\n          isOpen={this.state.alert!==\"\"}\n          onDidDismiss={() => this.setState({alert : \"\"})}\n          header={'Aviso'}\n          message={this.state.alert}\n          buttons={['Ok, percebido!']}\n        />\n\n            <div className=\"separador\"></div>\n\n            <IonCard className=\"card-left\">\n                <IonText className=\"responsiveTitlePA\">Email (para clientes Premium):</IonText>            \n            </IonCard>\n\n            <IonGrid className=\"layout-selecao-mails\">\n\n            <IonRow >\n                    <IonCol>\n                        <IonSearchbar className=\"searchMailPA\"\n                                    placeholder=\"E-Mail?\" \n                                    value={this.state.mail_inserido} \n                                    onIonChange={e => this.setSearchMail(e.detail.value!)}>\n                        </IonSearchbar>\n                    </IonCol>\n                </IonRow>\n\n\n                <IonRow >\n                    <IonCol>\n                        <IonContent className=\"comprimento-lista-mails\">\n                            <IonList>\n                                <IonRadioGroup value={this.state.user_mail} onIonChange={e => this.setUserMail(e.detail.value)}>\n                                    {\n                                        lista_mails_resultado.map(function(s :any){\n\n                                            return( <IonItem key={s}>\n                                                        <IonLabel class=\"ion-text-wrap\"><div className=\"detailsPA\">{s}</div></IonLabel>\n                                                        <IonRadio value={s} slot=\"end\"/>\n                                                    </IonItem>)\n                                            })      \n                                    }  \n                                </IonRadioGroup>\n                            </IonList>\n                        </IonContent>\n                    </IonCol>\n                </IonRow>\n\n            </IonGrid>      \n            \n            <div className=\"separador\"></div>\n\n            <IonCard className=\"card-left\">\n                <IonText className=\"responsiveTitlePA\">Utilizador Selecionado:</IonText>            \n            </IonCard>\n            \n            <IonCard className=\"card-left\">\n                <img src={require('../../imgs/perfil_pic.png')} width=\"100\" height=\"100\" alt=\"Loading...\"/>\n                <IonCardContent>\n                    <b>Nome:</b> {this.state.user_nome}\n                    <br></br>\n                    <br></br>\n                    <b>Email:</b> {this.state.user_mail}\n                </IonCardContent>\n            </IonCard>\n        \n            <div className=\"separador\"></div>\n\n            <IonCard className=\"card-left\">\n                <IonText className=\"responsiveTitlePA\">Especificações do Plano Alimentar:</IonText>            \n            </IonCard>\n\n\n            <IonCard className=\"card-center\"> \n                <IonList className=\"descricao-plano\">\n                    <IonItem >\n                        <IonLabel class=\"ion-text-wrap\"><div className=\"detailsPA\">Nome: </div></IonLabel>\n                        <IonInput value={this.state.nome_plano_alimentar} onIonChange={e => {this.setNomePlano(e.detail.value)}}/>\n                    </IonItem>\n\n                    <IonItem>\n                        <IonLabel class=\"ion-text-wrap\"><div className=\"detailsPA\">Frequência: </div></IonLabel>\n                        <IonInput value={this.state.frequencia} onIonChange={e => {this.setFreq(e.detail.value)}}/>\n                    </IonItem>\n\n                    <IonItem>\n                        <IonLabel class=\"ion-text-wrap\"><div className=\"detailsPA\">Nº Ref. Livres: </div></IonLabel>\n                        <IonInput value={this.state.refeicoes_livres} onIonChange={e => {this.setRefLiv(e.detail.value)}}/>\n                    </IonItem>\n                    <IonItem>\n                        <IonLabel class=\"ion-text-wrap\" ><div className=\"detailsPA\">Data de Fim:</div></IonLabel>\n                        <IonDatetime className=\"minquarterWidth\" value={this.state.data_fim} onIonChange={(e) => {this.setState({ data_fim: e.detail.value! })}}></IonDatetime>\n\n                    </IonItem>\n\n                </IonList> \n            </IonCard>\n            \n            <div className=\"separador\"></div>\n\n            <IonCard className=\"card-left\">\n                <IonText className=\"responsiveTitlePA\">Seleção de Refeições:</IonText>            \n            </IonCard>\n\n            <IonGrid className=\"layout-selecao-refeicoes\">\n\n                <IonRow className=\"espaco-vertical-search\">\n                    <IonToolbar>\n                        <IonSearchbar className=\"searchMailPA\"\n                                value={this.state.nome_refeicao} \n                                onIonChange={e => this.setSearchExercicio(e.detail.value!)}\n                                placeholder=\"Refeição?\"></IonSearchbar>\n                        </IonToolbar>\n                    \n                </IonRow>\n                \n                <IonRow>\n                    <IonCol>\n                        <IonContent className=\"mailListPA\">\n                            <IonList>\n                                <IonRadioGroup value={this.state.refeicao.nome} onIonChange={e => this.setNomeRefeicao(e.detail.value)}>\n                                    {\n                                        lista_ex_resultado.map(function(s :any){\n\n                                            return( <IonItem key={s}>\n                                                        <IonLabel class=\"ion-text-wrap\"><div className=\"detailsPA\">{s}</div></IonLabel>\n                                                        <IonRadio value={s} slot=\"end\"/>\n                                                    </IonItem>)\n                                        })      \n                                    }  \n                                </IonRadioGroup>\n                            </IonList>\n                        </IonContent>\n                    </IonCol>\n\n                </IonRow>\n                <br></br>\n                <br></br>\n                <IonRow >    \n                    <IonCol >\n                        <IonText className=\"responsiveTitlePA\">Descrição da refeição:</IonText>\n                        <br></br>\n                        <br></br>\n                        <IonTextarea className=\"detailsMealPA\" value={this.state.refeicao.descricao} onIonChange={e => this.setDescricao(e.detail.value!)}></IonTextarea>\n                    </IonCol>\n\n                </IonRow>\n\n                <IonRow>\n                    <IonCol class=\"ion-text-center\">\n                        <IonButton className=\"buttonAddRefeicao\" onClick={async () =>{ this.addRefeicao()}}>\n                            Adicionar refeição <b>&nbsp;&nbsp;</b><IonIcon slot=\"icon-only\" icon={addCircleSharp} />\n                        </IonButton>\n                    </IonCol>\n                </IonRow>                \n            </IonGrid>\n            \n            <div className=\"separador\"></div>\n\n            <IonCard className=\"card-left\">\n                <IonText className=\"responsiveTitlePA\">Lista de refeições selecionadas:</IonText>            \n            </IonCard>                        \n                         \n            <IonGrid className=\"grid-exercicios\">\n            \n                <IonCard className=\"background-orange\">\n                    <IonCardContent>\n                        <IonRow>\n\n                            <IonCol className=\"search-content\">\n                                <IonLabel class=\"ion-text-wrap\"><div className=\"detailsPA\">Refeição / Descrição </div></IonLabel>\n                            </IonCol >\n\n                        </IonRow>\n                    </IonCardContent>\n                </IonCard>\n                    {\n                        this.state.lista_refeicoes_selecionados.map((s, i) => (\n                            \n                            <IonCard key={i + s.descricao + s.nome} >\n                                <IonCardContent className=\"border-color\">\n                                    <IonRow>\n\n                                        <IonCol className=\"search-content\">\n                                            <IonLabel className=\"detailsPA\"><b>Tipo: </b>{s.nome}</IonLabel>\n                                        </IonCol >\n\n                                    </IonRow>\n                                    <IonRow>\n\n                                        <IonCol className=\"search-content\">\n                                            <IonText className=\"detailsPA\"><b>Descrição: </b>{s.descricao}</IonText>\n                                        </IonCol >\n\n                                    </IonRow>\n\n                                    <IonRow>\n                                        <IonCol>\n\n                                            <IonButton size=\"small\" onClick={async () => {this.rmRefeicao.call(this, i)}}>\n                                                Remover <b>&nbsp;</b><IonIcon slot=\"icon-only\" icon={closeCircleSharp}/>\n                                            </IonButton>\n\n                                        </IonCol>\n                                    </IonRow>\n\n                                    </IonCardContent>\n                                </IonCard>\n                        ))\n                    }                    \n            </IonGrid>\n\n            <IonGrid className=\"grid-exercicios\">\n                <IonRow>\n\n                    <IonCol>\n                            <IonButton className=\"botaoGridPA\" color= \"success\" onClick={() => {this.limparPlanoAlimentar(true)}}>\n                                <IonText> Limpar</IonText>\n                                <IonIcon slot=\"icon-only\" icon={trashOutline}/>\n                            </IonButton>\n                        \n                            <IonButton className=\"botaoGridPA\" onClick={async () => {this.addPlanoAlimentar.call(this)}}>\n                                <IonText> Adicionar</IonText>\n                                <IonIcon slot=\"icon-only\" icon={addOutline}/>\n                            </IonButton>\n                       \n                    </IonCol>\n                    \n                </IonRow>\n            </IonGrid>\n\n        </IonContent>\n \n        \n      </IonPage>\n    );\n    }\n    \n}\n\nexport default CriarPlanoAlimentar;\n\n"]},"metadata":{},"sourceType":"module"}