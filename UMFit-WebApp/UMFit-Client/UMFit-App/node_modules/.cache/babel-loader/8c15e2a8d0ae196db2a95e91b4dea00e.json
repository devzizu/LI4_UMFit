{"ast":null,"code":"import _classCallCheck from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/inherits\";import{IonButton,IonCol,IonContent,IonDatetime,IonGrid,IonHeader,IonIcon,IonInput,IonItem,IonLabel,IonPage,IonRow,IonSelect,IonSelectOption,IonText,IonTitle,IonToolbar}from\"@ionic/react\";import sha256 from\"fast-sha256\";import{buildOutline,calendarOutline,closeOutline,peopleCircleOutline,transgenderOutline}from\"ionicons/icons\";import React from\"react\";import{updateUserDetailsAPI}from\"../models/API/UserAPI\";import\"./css/UpdateDetails.css\";//---------------------------------------------------------------------------------------------------------------------------------\nvar UpdateDetails=/*#__PURE__*/function(_React$Component){_inherits(UpdateDetails,_React$Component);function UpdateDetails(props){var _this;_classCallCheck(this,UpdateDetails);_this=_possibleConstructorReturn(this,_getPrototypeOf(UpdateDetails).call(this,props));_this.state=void 0;_this.stateToAPI=void 0;_this.state={password:\"\",localidade:\"\",user:_this.props.user};_this.stateToAPI={userEmail:\"\",newPasswordHash:\"\",newLocalidade:\"\"};return _this;}_createClass(UpdateDetails,[{key:\"createUpdateUserState\",value:function createUpdateUserState(){var pass_enc=new TextEncoder();var encoded=pass_enc.encode(this.state.password);var hash256=Buffer.from(sha256(encoded)).toString('hex').toUpperCase();var local=this.state.user.localidade;if(this.state.localidade===\"\"){this.stateToAPI={userEmail:this.props.email,newPasswordHash:hash256,newLocalidade:local};}else{this.stateToAPI={userEmail:this.props.email,newPasswordHash:hash256,newLocalidade:this.state.localidade};}updateUserDetailsAPI(this.stateToAPI).then(function(res){return res.json();}).then(function(jsonData){console.log(\"Got this json from update:\");console.log(jsonData);});window.location.reload();}},{key:\"clearState\",value:function clearState(){this.setState({password:\"\",localidade:\"\"});}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(IonPage,null,React.createElement(IonHeader,null,React.createElement(IonToolbar,{color:\"primary\"},React.createElement(IonTitle,{id:\"page-title\"},\"Atualizar perfil\"))),React.createElement(IonContent,{className:\"PageContent\"},React.createElement(IonGrid,{className:\"PageGrid\"},React.createElement(IonRow,null,React.createElement(IonCol,{size:\"2.5\",className:\"Row1ProfilePic\"},React.createElement(\"img\",{className:\"profilePic\",src:require('../imgs/perfil_pic.png'),alt:\"Loading...\"})),React.createElement(IonCol,null,React.createElement(IonGrid,null,React.createElement(\"div\",{className:\"separador\"}),React.createElement(IonRow,null,React.createElement(IonCol,{className:\"FirstForm\"},React.createElement(IonItem,null,React.createElement(IonIcon,{slot:\"start\",icon:closeOutline}),React.createElement(IonLabel,{position:\"floating\"},\"Nome Completo \",React.createElement(IonText,{color:\"danger\"},\"*\")),React.createElement(IonInput,{disabled:true,required:true,value:\"\",onIonChange:function onIonChange(e){_this2.setState({nome_completo:e.target.value});}})),React.createElement(IonItem,null,React.createElement(IonIcon,{slot:\"start\",icon:closeOutline}),React.createElement(IonLabel,{position:\"floating\"},\"E-Mail \",React.createElement(IonText,{color:\"danger\"},\"*\")),React.createElement(IonInput,{disabled:true,required:true,value:\"\",onIonChange:function onIonChange(e){_this2.setState({email:e.target.value});}})),React.createElement(IonItem,null,React.createElement(IonIcon,{slot:\"start\",icon:buildOutline}),React.createElement(IonLabel,{position:\"floating\"},\"Definir nova password\"),React.createElement(IonInput,{type:\"password\",required:true,value:this.state.password,onIonChange:function onIonChange(e){_this2.setState({password:e.target.value});}})),React.createElement(IonItem,null,React.createElement(IonIcon,{slot:\"start\",icon:buildOutline}),React.createElement(IonLabel,{position:\"floating\"},\"Nova Localidade\"),React.createElement(IonInput,{value:this.state.localidade,onIonChange:function onIonChange(e){_this2.setState({localidade:e.target.value});}})),React.createElement(IonItem,null,React.createElement(IonIcon,{slot:\"start\",icon:closeOutline}),React.createElement(IonLabel,{position:\"floating\"},\"Nif\"),React.createElement(IonInput,{disabled:true,value:\"\",onIonChange:function onIonChange(e){_this2.setState({nif:e.target.value});}})))),React.createElement(\"div\",{className:\"separador\"}),React.createElement(IonRow,null,React.createElement(IonCol,null,React.createElement(IonItem,{className:\"SelectUser\"},React.createElement(IonIcon,{slot:\"start\",icon:closeOutline}),React.createElement(IonIcon,{slot:\"start\",icon:peopleCircleOutline}),React.createElement(IonLabel,null,\"Tipo de s\\xF3cio: \"),React.createElement(IonSelect,{disabled:true,value:\"\",onIonChange:function onIonChange(e){return _this2.setState({tipoDeSocio:e.detail.value});}},React.createElement(IonSelectOption,{value:\"Cliente Standard\"},\"Cliente Standard\"),React.createElement(IonSelectOption,{value:\"Cliente Premium\"},\"Cliente Premium\"),React.createElement(IonSelectOption,{value:\"Instrutor\"},\"Instrutor\"),React.createElement(IonSelectOption,{value:\"Rececionista\"},\"Rececionista\"))),React.createElement(IonItem,{className:\"SelectGender\"},React.createElement(IonIcon,{slot:\"start\",icon:closeOutline}),React.createElement(IonIcon,{slot:\"start\",icon:transgenderOutline}),React.createElement(IonLabel,null,\"G\\xE9nero: \"),React.createElement(IonSelect,{disabled:true,value:\"\",onIonChange:function onIonChange(e){return _this2.setState({genero:e.detail.value});}},React.createElement(IonSelectOption,{value:\"Masculino\"},\"Masculino\"),React.createElement(IonSelectOption,{value:\"Feminino\"},\"Feminino\"),React.createElement(IonSelectOption,{value:\"N\\xE3o especificar\"},\"N\\xE3o especificar\"))),React.createElement(IonItem,{className:\"SelectDate\"},React.createElement(IonIcon,{slot:\"start\",icon:closeOutline}),React.createElement(IonIcon,{slot:\"start\",icon:calendarOutline}),React.createElement(IonLabel,null,\"Data de Nascimento:\"),React.createElement(IonDatetime,{disabled:true,value:\"\",onIonChange:function onIonChange(e){_this2.setState({data_nascimento:e.detail.value});}})))),React.createElement(\"div\",{className:\"separador\"}),React.createElement(IonRow,{className:\"buttonWrapper\"},React.createElement(IonCol,null,React.createElement(IonButton,{className:\"submitUser\",expand:\"block\",color:\"success\",onClick:function onClick(event){event.preventDefault();alert(\"Atualizar informações?\");_this2.createUpdateUserState();}},\"Atualizar informa\\xE7\\xF5es\")),React.createElement(IonCol,null,React.createElement(IonButton,{className:\"clearForm\",expand:\"block\",color:\"light\",onClick:function onClick(){_this2.clearState();}},\"Limpar formul\\xE1rio\")))))))));}}]);return UpdateDetails;}(React.Component);export default UpdateDetails;/*\n        (nome + , email + , nif + , data_nasc, genero, categoria, localidade + ), \n        tipo (0:cliente, 1:instrutor, 2:rececionista)\n        hash password\n    */","map":{"version":3,"sources":["/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/src/pages/UpdateDetails.tsx"],"names":["IonButton","IonCol","IonContent","IonDatetime","IonGrid","IonHeader","IonIcon","IonInput","IonItem","IonLabel","IonPage","IonRow","IonSelect","IonSelectOption","IonText","IonTitle","IonToolbar","sha256","buildOutline","calendarOutline","closeOutline","peopleCircleOutline","transgenderOutline","React","updateUserDetailsAPI","UpdateDetails","props","state","stateToAPI","password","localidade","user","userEmail","newPasswordHash","newLocalidade","pass_enc","TextEncoder","encoded","encode","hash256","Buffer","from","toString","toUpperCase","local","email","then","res","json","jsonData","console","log","window","location","reload","setState","require","e","nome_completo","target","value","nif","tipoDeSocio","detail","genero","data_nascimento","event","preventDefault","alert","createUpdateUserState","clearState","Component"],"mappings":"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","sourcesContent":["\nimport { IonButton, IonCol, IonContent, IonDatetime, IonGrid, IonHeader, IonIcon, IonInput, IonItem, IonLabel, IonPage, IonRow, IonSelect, IonSelectOption, IonText, IonTitle, IonToolbar } from \"@ionic/react\";\nimport sha256 from \"fast-sha256\";\nimport { buildOutline, calendarOutline, closeOutline, peopleCircleOutline, transgenderOutline } from \"ionicons/icons\";\nimport React from \"react\";\nimport { updateUserDetailsAPI } from \"../models/API/UserAPI\";\nimport { User } from \"../models/Other/User\";\nimport \"./css/UpdateDetails.css\";\n\n\n//---------------------------------------------------------------------------------------------------------------------------------\n\nclass UpdateDetails extends React.Component<any> {\n\n    state: {\n        password: string,\n        localidade: string,\n        user: User\n    }\n\n    stateToAPI: {\n        userEmail: string,\n        newPasswordHash: string,\n        newLocalidade: string\n    }\n\n    constructor(props: any) {\n\n        super(props);\n\n        this.state = {\n            password: \"\",\n            localidade: \"\",\n            user: this.props.user\n        }\n\n        this.stateToAPI = {\n            userEmail: \"\",\n            newPasswordHash: \"\",\n            newLocalidade: \"\"\n        }  \n    }\n\n    createUpdateUserState() {\n\n        let pass_enc = new TextEncoder();\n        let encoded = pass_enc.encode(this.state.password);\n        let hash256 = Buffer.from(sha256(encoded)).toString('hex').toUpperCase();\n\n        var local = this.state.user.localidade;\n        if (this.state.localidade === \"\") {\n            this.stateToAPI = {\n                userEmail: this.props.email,\n                newPasswordHash: hash256,\n                newLocalidade: local\n            }   \n        } else {\n\n            this.stateToAPI = {\n                userEmail: this.props.email,\n                newPasswordHash: hash256,\n                newLocalidade: this.state.localidade\n            }   \n        }\n\n        updateUserDetailsAPI(this.stateToAPI).then(\n            res => res.json()            \n        ).then(\n        \n            (jsonData) => {\n\n                console.log(\"Got this json from update:\");\n                console.log(jsonData);   \n            }\n        );\n        \n        window.location.reload();\n    }\n\n    clearState() {\n        this.setState({\n            password: \"\",\n            localidade: \"\"\n        });        \n    }\n\n    render() {\n        return(\n            \n            <IonPage>\n\n                <IonHeader>\n                <IonToolbar color=\"primary\">\n                    <IonTitle id=\"page-title\">Atualizar perfil</IonTitle>\n                </IonToolbar>\n                </IonHeader>\n    \n                <IonContent className=\"PageContent\">\n\n                    <IonGrid className=\"PageGrid\">\n\n                        <IonRow>\n                            <IonCol size=\"2.5\" className=\"Row1ProfilePic\">\n                                \n                                <img className=\"profilePic\" src={require('../imgs/perfil_pic.png')} alt=\"Loading...\"/> \n                            \n                            </IonCol>\n\n                            <IonCol>\n\n                                <IonGrid>\n\n                                <div className=\"separador\"></div>\n\n                                    <IonRow>\n\n                                        <IonCol className=\"FirstForm\">\n\n                                            <IonItem>\n                                                <IonIcon slot=\"start\" icon={closeOutline}></IonIcon>\n                                                <IonLabel position=\"floating\">Nome Completo <IonText color=\"danger\">*</IonText></IonLabel>\n                                                <IonInput disabled required value={\"\"} onIonChange={(e) => {\n                                                    this.setState({ nome_completo: (e.target as HTMLInputElement).value });\n                                                }}></IonInput>\n                                            </IonItem>                                           \n\n                                            <IonItem>\n                                                <IonIcon slot=\"start\" icon={closeOutline}></IonIcon>\n                                                <IonLabel position=\"floating\">E-Mail <IonText color=\"danger\">*</IonText></IonLabel>\n                                                <IonInput disabled required value={\"\"} onIonChange={(e) => {\n                                                    this.setState({ email: (e.target as HTMLInputElement).value });\n                                                }}></IonInput>\n                                            </IonItem>                                           \n\n                                            <IonItem>\n                                                <IonIcon slot=\"start\" icon={buildOutline}></IonIcon>\n                                                <IonLabel position=\"floating\">Definir nova password</IonLabel>\n                                                <IonInput type=\"password\" required value={this.state.password} onIonChange={(e) => {\n                                                    this.setState({ password: (e.target as HTMLInputElement).value });\n                                                }}></IonInput>\n                                            </IonItem>                                           \n \n                                            <IonItem>\n                                                <IonIcon slot=\"start\" icon={buildOutline}></IonIcon>\n                                                <IonLabel position=\"floating\">Nova Localidade</IonLabel>\n                                                <IonInput value={this.state.localidade} onIonChange={(e) => {\n                                                    this.setState({ localidade: (e.target as HTMLInputElement).value });\n                                                }}></IonInput>\n                                            </IonItem>                                           \n\n                                            <IonItem>\n                                                <IonIcon slot=\"start\" icon={closeOutline}></IonIcon>\n                                                <IonLabel position=\"floating\">Nif</IonLabel>\n                                                <IonInput disabled value={\"\"} onIonChange={(e) => {\n                                                    this.setState({ nif: (e.target as HTMLInputElement).value });\n                                                }}></IonInput>\n                                            </IonItem>                                           \n                                           \n                                        </IonCol>\n\n                                    </IonRow>\n\n                                    <div className=\"separador\"></div>\n\n                                    <IonRow>\n                                        <IonCol>\n\n                                            <IonItem className=\"SelectUser\">\n                                                <IonIcon slot=\"start\" icon={closeOutline}></IonIcon>\n                                                <IonIcon slot=\"start\" icon={peopleCircleOutline}></IonIcon>\n                                                <IonLabel>Tipo de sócio: </IonLabel>\n                                                <IonSelect disabled value={\"\"} onIonChange={(e) => this.setState({ tipoDeSocio: e.detail.value! })}>\n                                                    <IonSelectOption value=\"Cliente Standard\">Cliente Standard</IonSelectOption>\n                                                    <IonSelectOption value=\"Cliente Premium\">Cliente Premium</IonSelectOption>\n                                                    <IonSelectOption value=\"Instrutor\">Instrutor</IonSelectOption>\n                                                    <IonSelectOption value=\"Rececionista\">Rececionista</IonSelectOption>\n                                                </IonSelect>\n                                            </IonItem>\n\n                                            <IonItem className=\"SelectGender\">\n                                                <IonIcon slot=\"start\" icon={closeOutline}></IonIcon>\n                                                <IonIcon slot=\"start\" icon={transgenderOutline}></IonIcon>\n                                                <IonLabel>Género: </IonLabel>\n                                                <IonSelect disabled value={\"\"} onIonChange={(e) => this.setState({ genero: e.detail.value! })}>\n                                                    <IonSelectOption value=\"Masculino\">Masculino</IonSelectOption>\n                                                    <IonSelectOption value=\"Feminino\">Feminino</IonSelectOption>\n                                                    <IonSelectOption value=\"Não especificar\">Não especificar</IonSelectOption>\n                                                </IonSelect>\n                                            </IonItem>\n                                            \n                                            <IonItem className=\"SelectDate\">\n                                            <IonIcon slot=\"start\" icon={closeOutline}></IonIcon>\n                                                <IonIcon slot=\"start\" icon={calendarOutline}></IonIcon>\n                                                <IonLabel>Data de Nascimento:</IonLabel>\n                                                <IonDatetime disabled value={\"\"} onIonChange={(e) => {this.setState({ data_nascimento: e.detail.value! })}}></IonDatetime>\n\n                                            </IonItem>\n\n                                        </IonCol>\n\n                                    </IonRow>\n\n                                    <div className=\"separador\"></div>\n\n                                    <IonRow className=\"buttonWrapper\">\n\n                                        <IonCol>\n                                            <IonButton className=\"submitUser\" expand=\"block\" color=\"success\" onClick={(event) => {\n                                                event.preventDefault();\n                                                alert(\"Atualizar informações?\");\n                                                this.createUpdateUserState();\n\n                                            }}>Atualizar informações</IonButton>\n                                        </IonCol>\n\n                                        <IonCol>\n                                            <IonButton className=\"clearForm\" expand=\"block\" color=\"light\" onClick={() => {\n                                                this.clearState();\n                                            }}>Limpar formulário</IonButton>\n                                        </IonCol>\n\n                                    </IonRow>\n\n                                </IonGrid>\n\n                            </IonCol>\n                        </IonRow>\n\n                    </IonGrid>\n\n                </IonContent>\n                \n            </IonPage>    \n        );\n    }\n}\n\nexport default UpdateDetails;\n\n    /*\n        (nome + , email + , nif + , data_nasc, genero, categoria, localidade + ), \n        tipo (0:cliente, 1:instrutor, 2:rececionista)\n        hash password\n    */\n"]},"metadata":{},"sourceType":"module"}