{"ast":null,"code":"import _regeneratorRuntime from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/inherits\";import{IonButton,IonCard,IonCol,IonContent,IonGrid,IonHeader,IonIcon,IonItem,IonLabel,IonPage,IonRow,IonTitle,IonToolbar}from\"@ionic/react\";import{arrowForwardCircleSharp,hourglassOutline,pizzaOutline}from\"ionicons/icons\";import React from\"react\";import{getPlanosAlimentares}from\"../../models/API/PlanoAlimentarAPI\";import\"../css/ShowPlanoAlimentar.css\";var RefeicaoNotDef={nome:\"Não existem refeições planeadas!\",descricao:\"Marque uma avaliação!\"};var PlanNotDefined={nome:\"Não existem planos alimentares!\",refeicoes_livres:\"-\",frequencia:\"-\",data_fim:\"\",lista_refeicoes:[RefeicaoNotDef]};var ShowPlanoAlimentar=/*#__PURE__*/function(_React$Component){_inherits(ShowPlanoAlimentar,_React$Component);function ShowPlanoAlimentar(props){var _this;_classCallCheck(this,ShowPlanoAlimentar);_this=_possibleConstructorReturn(this,_getPrototypeOf(ShowPlanoAlimentar).call(this,props));_this.state=void 0;_this.state={planoAlimentar:{nome:\"Ainda não existem planos alimentares!\",refeicoes_livres:\"\",frequencia:\"\",data_fim:\"\",lista_refeicoes:[]},indice_plano:0,lista_plano_alimentar:[PlanNotDefined],user:_this.props.user};return _this;}_createClass(ShowPlanoAlimentar,[{key:\"planoanterior\",value:function planoanterior(){var index=this.state.indice_plano;if(index>0){index--;}this.setState({indice_plano:index});}},{key:\"proximoplano\",value:function proximoplano(){var index=this.state.indice_plano;if(index<this.state.lista_plano_alimentar.length-1){index++;}this.setState({indice_plano:index});}},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this2=this;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getPlanosAlimentares(this.state.user.email).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(value){var json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(value.status===200)){_context.next=6;break;}json=value.json();_context.next=4;return json.then(function(value){var resultList=[];for(var i=0;i<value.length;i++){var refeicoesList=value[i].refeiçoes;var planoRes=Object.assign(value[i],{lista_refeicoes:refeicoesList,frequencia:value[i].frequencia,refeicoes_livres:value[i].nRefeiçoes_livres});delete planoRes.nRefeiçoes_livres;delete planoRes.refeiçoes;planoRes.lista_refeicoes.map(function(exe){var newExerc=Object.assign(exe,{descricao:exe.descriçao});delete newExerc.descriçao;return\"ok\";});resultList.push(planoRes);}if(resultList.length>0)_this2.setState({lista_plano_alimentar:resultList});console.log(resultList);});case 4:_context.next=7;break;case 6:console.log(\"REQUEST ERROR! Got status \"+value.status);case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}()).catch(function(error){alert(\"Server is currently down... \\n\\n\".concat(\"Error details: \\n\\n\\t\").concat(error));});case 2:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this3=this;console.log(this.state.indice_plano);return React.createElement(IonPage,null,React.createElement(IonHeader,null,React.createElement(IonToolbar,{color:\"primary\"},React.createElement(IonTitle,{id:\"page-title\"},\"Plano Alimentar\"))),React.createElement(IonContent,null,React.createElement(IonGrid,null,React.createElement(\"div\",{className:\"buttonsWrapper-ca\"},React.createElement(\"div\",{className:\"leftBut-ca\"},this.state.indice_plano-1>=0?React.createElement(IonButton,{className:\"buttonNextBefore-ca\",disabled:false,onClick:function onClick(){return _this3.planoanterior();}},React.createElement(\"div\",{className:\"responsiveText-ca\"},\"Anterior (\",this.state.lista_plano_alimentar[this.state.indice_plano-1].nome,\")\")):React.createElement(IonButton,{className:\"buttonNextBefore-ca\",disabled:true},React.createElement(\"div\",{className:\"responsiveText-ca\"},\"Anterior\"))),React.createElement(\"div\",{className:\"rightBut-ca\"},this.state.indice_plano+1<this.state.lista_plano_alimentar.length?React.createElement(IonButton,{className:\"buttonNextBefore-ca\",disabled:false,onClick:function onClick(){return _this3.proximoplano();}},\"Pr\\xF3ximo (\",this.state.lista_plano_alimentar[this.state.indice_plano+1].nome,\")\"):React.createElement(IonButton,{className:\"buttonNextBefore-ca\",disabled:true},\"Pr\\xF3ximo\"))),React.createElement(IonCard,{className:\"background-orange\"},React.createElement(IonRow,null,React.createElement(IonCol,{className:\"margens-centrar\"},React.createElement(IonLabel,{className:\"nome-treino\"},\" \",React.createElement(\"b\",null,\"Plano Alimentar:\"),\" \",React.createElement(\"i\",null,this.state.lista_plano_alimentar[this.state.indice_plano].nome),\" (At\\xE9 \",React.createElement(\"i\",null,\"...\"),\") \"))),React.createElement(\"div\",{className:\"separador\"}),React.createElement(IonRow,null,React.createElement(IonCol,null,React.createElement(\"div\",{className:\"margens-nomes\"},React.createElement(IonItem,{className:\"background-orange\"},React.createElement(IonIcon,{icon:pizzaOutline}),React.createElement(\"b\",null,\"\\xA0\"),React.createElement(IonLabel,{className:\"text-title\"},React.createElement(\"div\",{className:\"responsiveText-ca\"},React.createElement(\"b\",null,\"Refei\\xE7\\xF5es Livres:\"),\" \",this.state.lista_plano_alimentar[this.state.indice_plano].refeicoes_livres))))),React.createElement(IonCol,null,React.createElement(\"div\",{className:\"margens-nomes\"},React.createElement(IonItem,{className:\"background-orange\"},React.createElement(IonIcon,{icon:hourglassOutline}),React.createElement(\"b\",null,\"\\xA0\"),React.createElement(IonLabel,{className:\"text-title\"},React.createElement(\"div\",{className:\"responsiveText-ca\"},React.createElement(\"b\",null,\"Frequ\\xEAncia:\"),\" \",this.state.lista_plano_alimentar[this.state.indice_plano].frequencia)))))),React.createElement(\"div\",{className:\"separador\"}),React.createElement(IonRow,null,React.createElement(\"div\",{className:\"margens-nomes\"},React.createElement(IonLabel,{className:\"text-title\"},React.createElement(\"div\",{className:\"responsiveText-ca\"},\"Lista de Refei\\xE7\\xF5es:\"),\" \"))),this.state.lista_plano_alimentar[this.state.indice_plano].lista_refeicoes.map(function(s,i){return React.createElement(IonCard,{key:i+s.nome,className:\"card-exercicio\"},React.createElement(IonRow,null,React.createElement(IonCol,null,React.createElement(IonRow,{className:\"margens-nomes\"},React.createElement(IonLabel,{className:\"nome-exercicio\"},React.createElement(\"div\",{className:\"responsiveText-ca\"},s.nome))),s.descricao.split(\";\").map(function(des,i){return des!==\"\"?React.createElement(IonRow,{key:i+des,className:\"margens-nomes\"},React.createElement(IonItem,null,React.createElement(IonIcon,{icon:arrowForwardCircleSharp}),React.createElement(\"b\",null,\"\\xA0\"),React.createElement(IonLabel,{className:\"text-title\"},React.createElement(\"div\",{className:\"responsiveText-ca\"},des)))):console.log(des);}))));})))));}}]);return ShowPlanoAlimentar;}(React.Component);export default ShowPlanoAlimentar;","map":{"version":3,"sources":["/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/src/pages/user/ShowPlanoAlimentar.tsx"],"names":["IonButton","IonCard","IonCol","IonContent","IonGrid","IonHeader","IonIcon","IonItem","IonLabel","IonPage","IonRow","IonTitle","IonToolbar","arrowForwardCircleSharp","hourglassOutline","pizzaOutline","React","getPlanosAlimentares","RefeicaoNotDef","nome","descricao","PlanNotDefined","refeicoes_livres","frequencia","data_fim","lista_refeicoes","ShowPlanoAlimentar","props","state","planoAlimentar","indice_plano","lista_plano_alimentar","user","index","setState","length","email","then","value","status","json","resultList","i","refeicoesList","refeiçoes","planoRes","Object","assign","nRefeiçoes_livres","map","exe","newExerc","descriçao","push","console","log","catch","error","alert","concat","planoanterior","proximoplano","s","split","des","Component"],"mappings":"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","sourcesContent":["\nimport { IonButton, IonCard, IonCol, IonContent, IonGrid, IonHeader, IonIcon, IonItem, IonLabel, IonPage, IonRow, IonTitle, IonToolbar } from \"@ionic/react\";\nimport { arrowForwardCircleSharp, hourglassOutline, pizzaOutline } from \"ionicons/icons\";\nimport React from \"react\";\nimport { getPlanosAlimentares } from \"../../models/API/PlanoAlimentarAPI\";\nimport { PlanoAlimentar, Refeicao } from \"../../models/Other/PlanoAlimentar\";\nimport { User } from \"../../models/Other/User\";\nimport \"../css/ShowPlanoAlimentar.css\";\n\nconst RefeicaoNotDef: Refeicao = {\n\n    nome: \"Não existem refeições planeadas!\",\n    descricao: \"Marque uma avaliação!\" \n}\n\nconst PlanNotDefined: PlanoAlimentar = {\n\n    nome: \"Não existem planos alimentares!\",\n    refeicoes_livres: \"-\",\n    frequencia: \"-\",\n    data_fim : \"\",\n    lista_refeicoes: [RefeicaoNotDef]\n}\n\nclass ShowPlanoAlimentar extends React.Component<any>{\n\n    state: {\n        \n        planoAlimentar: PlanoAlimentar\n        indice_plano: number\n        lista_plano_alimentar: Array<PlanoAlimentar>\n        user: User\n    }\n\n    constructor(props: any) {\n\n        super(props);\n    \n        this.state = {\n\n            planoAlimentar: {\n                nome:\"Ainda não existem planos alimentares!\",\n                refeicoes_livres:\"\",\n                frequencia:\"\",\n                data_fim: \"\",\n                lista_refeicoes:[]\n            },\n            indice_plano: 0,\n            lista_plano_alimentar: [PlanNotDefined],\n\n            user: this.props.user\n\n        }        \n    }\n\n    planoanterior(){\n        \n        var index = this.state.indice_plano\n\n        if(index > 0){\n\n            index--;\n        }\n\n        this.setState({indice_plano: index})\n\n    }\n\n    proximoplano(){\n\n        var index = this.state.indice_plano\n\n        if(index < this.state.lista_plano_alimentar.length-1){\n\n            index++;\n        }\n\n        this.setState({indice_plano: index})    \n\n    }\n\n    async componentDidMount(){\n\n        await getPlanosAlimentares(this.state.user.email).then(\n\n            async (value: any) =>{\n                if (value.status === 200) {\n\n                    var json = value.json();\n\n                    await json.then((value: any[]) => {\n\n                        var resultList: PlanoAlimentar[] = [];\n\n                        for (var i = 0; i < value.length; i++) {\n\n                            var refeicoesList = value[i].refeiçoes;\n\n                            var planoRes: any = Object.assign(value[i], {lista_refeicoes: refeicoesList, frequencia: value[i].frequencia, refeicoes_livres: value[i].nRefeiçoes_livres});\n                            delete planoRes.nRefeiçoes_livres;\n                            delete planoRes.refeiçoes;\n                            \n                            planoRes.lista_refeicoes.map((exe: any) => {\n                                \n                                var newExerc = Object.assign(exe, {descricao: exe.descriçao});\n                                delete newExerc.descriçao;\n                                return(\"ok\");\n                            });\n\n                            resultList.push(planoRes);\n                        }\n\n                        if(resultList.length > 0) \n                        this.setState({lista_plano_alimentar: resultList});\n\n                        console.log(resultList);\n                    });\n\n                    } else {\n                    console.log(\"REQUEST ERROR! Got status \" + value.status);\n                }\n            })\n            .catch(function(error: any) {\n              alert(\"Server is currently down... \\n\\n\".concat(\"Error details: \\n\\n\\t\").concat(error));\n            });\n            \n    }\n\n    render(){\n\n        console.log(this.state.indice_plano)\n\n    return(\n      <IonPage>\n\n        <IonHeader>\n          <IonToolbar color=\"primary\">\n            <IonTitle id=\"page-title\">Plano Alimentar</IonTitle>\n          </IonToolbar>\n        </IonHeader>\n\n        <IonContent>\n            \n            <IonGrid>\n\n                    <div className=\"buttonsWrapper-ca\">\n                        <div className=\"leftBut-ca\">\n                        {\n                            (this.state.indice_plano - 1 >= 0) ? (\n                                <IonButton className=\"buttonNextBefore-ca\" disabled={false} onClick={() => this.planoanterior()}>\n                                    <div className=\"responsiveText-ca\">\n                                    Anterior ({this.state.lista_plano_alimentar[this.state.indice_plano-1].nome})\n                                    </div>\n                                </IonButton>\n                            ):(\n                                <IonButton className=\"buttonNextBefore-ca\" disabled>\n                                    <div className=\"responsiveText-ca\">\n                                    Anterior\n                                    </div>\n                                </IonButton>\n                            )\n                    \n                        }\n                        </div>\n                        <div className=\"rightBut-ca\">\n                        {\n                            (this.state.indice_plano + 1 < this.state.lista_plano_alimentar.length) ? (\n                                <IonButton className=\"buttonNextBefore-ca\" disabled={false} onClick={() => this.proximoplano()}>\n                                    Próximo ({this.state.lista_plano_alimentar[this.state.indice_plano+1].nome})\n                                </IonButton>\n                            ):(\n                                <IonButton className=\"buttonNextBefore-ca\"  disabled>\n                                    Próximo\n                                </IonButton>\n                            )\n                        }\n                        </div>\n                    </div>\n\n                <IonCard  className=\"background-orange\">\n\n                    <IonRow>\n                        <IonCol className=\"margens-centrar\">\n                    <IonLabel className=\"nome-treino\"> <b>Plano Alimentar:</b> <i>{this.state.lista_plano_alimentar[this.state.indice_plano].nome}</i> (Até <i>...</i>) </IonLabel>\n                        </IonCol>\n                    </IonRow>\n                    \n                    <div className=\"separador\"></div>\n\n                    <IonRow>\n                        <IonCol>\n                        <div className=\"margens-nomes\">\n                        <IonItem className=\"background-orange\"><IonIcon icon={pizzaOutline}></IonIcon><b>&nbsp;</b>\n                        <IonLabel className=\"text-title\"><div className=\"responsiveText-ca\"><b>Refeições Livres:</b> {this.state.lista_plano_alimentar[this.state.indice_plano].refeicoes_livres}</div></IonLabel>\n                        \n                        </IonItem>\n                        </div>\n                        </IonCol>\n\n                        <IonCol>\n                        <div className=\"margens-nomes\">\n                        <IonItem className=\"background-orange\"><IonIcon icon={hourglassOutline}></IonIcon><b>&nbsp;</b>\n                        <IonLabel className=\"text-title\"><div className=\"responsiveText-ca\"><b>Frequência:</b> {this.state.lista_plano_alimentar[this.state.indice_plano].frequencia}</div></IonLabel>\n                        \n                        </IonItem>\n                        </div>\n                        </IonCol>\n\n                    </IonRow>\n\n                    <div className=\"separador\"></div>\n\n                    <IonRow>\n                        <div className=\"margens-nomes\">\n                        <IonLabel className=\"text-title\"><div className=\"responsiveText-ca\">Lista de Refeições:</div> </IonLabel>\n                        </div>\n                    </IonRow>       \n\n                    {\n                        this.state.lista_plano_alimentar[this.state.indice_plano].lista_refeicoes.map((s, i) => (\n                <IonCard key={i+s.nome} className=\"card-exercicio\">\n\n                    <IonRow>\n                    \n                        <IonCol>  \n\n                            <IonRow className=\"margens-nomes\"> \n                                <IonLabel className=\"nome-exercicio\"><div className=\"responsiveText-ca\">{s.nome}</div></IonLabel>\n                            </IonRow>                             \n                            {\n                                s.descricao.split(\";\").map((des, i) => (\n                                    (des !== \"\") ?\n                                    <IonRow key={i + des} className=\"margens-nomes\">\n                                        <IonItem>\n                                        <IonIcon icon={arrowForwardCircleSharp}></IonIcon>\n    \n                                            <b>&nbsp;</b>\n                                            <IonLabel className=\"text-title\">\n                                                <div className=\"responsiveText-ca\">{des}\n                                                </div>\n                                            </IonLabel>                        \n                                        </IonItem>\n                                    </IonRow>\n                                    : console.log(des)\n                                ))\n                            }\n\n                        </IonCol>\n\n                    </IonRow>\n\n                </IonCard>\n            ))}\n\n                </IonCard>\n            </IonGrid>\n\n        </IonContent>\n \n        \n      </IonPage>\n    );\n    }\n    \n}\n\nexport default ShowPlanoAlimentar;\n\n"]},"metadata":{},"sourceType":"module"}