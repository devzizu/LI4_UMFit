{"ast":null,"code":"var _jsxFileName = \"/home/joao/Desktop/Projeto-LI4/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/src/App.tsx\";\nimport React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { IonApp, IonRouterOutlet, IonSplitPane, IonPage, IonHeader, IonToolbar, IonTitle, IonText, IonInput, IonButton, IonCard, IonContent, IonCardContent, IonCardHeader, IonFooter } from '@ionic/react';\nimport { IonReactRouter } from '@ionic/react-router';\n/* Core CSS required for Ionic components to work properly */\n\nimport '@ionic/react/css/core.css';\n/* Basic CSS for apps built with Ionic */\n\nimport '@ionic/react/css/normalize.css';\nimport '@ionic/react/css/structure.css';\nimport '@ionic/react/css/typography.css';\n/* Optional CSS utils that can be commented out */\n\nimport '@ionic/react/css/padding.css';\nimport '@ionic/react/css/float-elements.css';\nimport '@ionic/react/css/text-alignment.css';\nimport '@ionic/react/css/text-transformation.css';\nimport '@ionic/react/css/flex-utils.css';\nimport '@ionic/react/css/display.css';\n/* Theme variables */\n\nimport './theme/variables.css'; //---------------------------------------------------------------------------------------\n//---------------------------------------------------------------------------------------\n\nimport { authenticate, getUserStatus, logout } from './models/API/UserAPI';\nimport { User } from './models/Other/User';\nimport sha256 from \"fast-sha256\"; //---------------------------------------------------------------------------------------\n//---------------------------------------------------------------------------------------\n\nimport './components/css/LogIn.css';\nimport './pages/css/Home.css';\nimport './pages/css/404.css';\nimport Menu from './components/MenuHome';\nimport About from './pages/About';\nimport Contact from './pages/Contact';\nimport UserProfile from './pages/UserProfile';\nimport Evolucao from './pages/user/EvolucaoPage/Evolucao';\nimport InserirUtilizador from './pages/funcionario/InserirUtilizador';\nimport UpdateDetails from './pages/UpdateDetails';\nimport RemoveUser from './pages/funcionario/RemoveUser';\nimport EditarUtilizador from './pages/funcionario/EditarUtilizador';\nimport CriarPlanoTreino from './pages/instrutor/CriarPlanoTreino';\nimport CriarPlanoAlimentar from './pages/instrutor/CriarPlanoAlimentar';\nimport ConsultarAulasGrupo from './pages/ConsultarAulasGrupo';\nimport UltimaAvaliacao from './pages/user/UltimaAvaliacao';\nimport UltimaAvaliacaoInstrutor from './pages/instrutor/UltimaAvaliacaoInstrutor';\nimport ShowPlanoTreino from './pages/user/ShowPlanoTreino';\nimport CriarAvaliacao from './pages/instrutor/CriarAvaliacao';\nimport AgendarAvaliacao from './pages/user/AgendarAvaliacao'; //---------------------------------------------------------------------------------------\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = void 0;\n\n    this.setLogged = (logged, user) => {\n      if (logged === false) {\n        var lastToken = localStorage.getItem('token');\n        if (lastToken) logout(lastToken);\n        localStorage.clear();\n      }\n\n      var cat;\n      var menuss;\n\n      if (logged) {\n        cat = user.categoria;\n        menuss = user.tipoDeUser === \"Cliente\" ? cat : user.tipoDeUser;\n      }\n\n      this.setState({\n        logged: logged,\n        menus: logged ? menuss : 'home',\n        userLogged: user\n      });\n    };\n\n    this.state = {\n      selectedPage: '',\n      menus: 'home',\n      logged: false,\n      loadingAPIcall: true,\n      //loadingAPIcall: false,\n      userLogged: new User(\"\", \"\", -1, \"\", -1, \"\", \"\", \"\")\n    };\n  }\n\n  async componentDidMount() {\n    console.log(\"com..DidMount() -> updating state...\");\n    var tokenFromStorage = localStorage.getItem('token');\n    console.log(\"TOKEN = \" + tokenFromStorage); //existe token da sessao\n\n    if (tokenFromStorage != null) {\n      await getUserStatus(tokenFromStorage).then(res => res.json()).then(data => {\n        const res = JSON.parse(data);\n\n        if (res.status === \"online\") {\n          var userMenus = res.user.categoria;\n          this.setState({\n            logged: true,\n            menus: res.user.tipoDeUser === \"Cliente\" ? userMenus : res.user.tipoDeUser,\n            loadingAPIcall: false,\n            userLogged: res.user\n          }); //Token invalido\n        } else if (res.status === \"offline\") {\n          localStorage.clear();\n          this.setState({\n            logged: false,\n            menus: 'home',\n            loadingAPIcall: false,\n            userLogged: null\n          });\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } else {\n      //Nao existe token no localstorage\n      this.setState({\n        logged: false,\n        menus: 'home',\n        loadingAPIcall: false,\n        userLogged: null\n      });\n    }\n  }\n\n  render() {\n    console.log(\"[...] Rendering App component...\");\n    var logged = this.state.logged;\n    var user = this.state.userLogged;\n    return React.createElement(IonApp, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, this.state.loadingAPIcall ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }) : React.createElement(IonReactRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(IonSplitPane, {\n      id: \"split-pane\",\n      contentId: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(Menu, {\n      selectedPage: this.state.selectedPage,\n      menus: this.state.menus,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), React.createElement(IonRouterOutlet, {\n      id: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/home\",\n      component: props => {\n        if (logged) {\n          return React.createElement(Redirect, {\n            to: \"/profile\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 193\n            },\n            __self: this\n          });\n        }\n\n        return React.createElement(Home, Object.assign({\n          logged: logged\n        }, props, {\n          setLogged: this.setLogged,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/about\",\n      component: About,\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/contact\",\n      component: Contact,\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile\",\n      component: props => {\n        if (!logged) {\n          return React.createElement(Redirect, {\n            to: \"/home\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 212\n            },\n            __self: this\n          });\n        }\n\n        switch (user.tipoDeUser) {\n          case 'Cliente':\n            return React.createElement(ProfileCliente, {\n              setLogged: this.setLogged,\n              user: this.state.userLogged,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 219\n              },\n              __self: this\n            });\n\n          case 'Instrutor':\n            return React.createElement(ProfileTreinador, {\n              setLogged: this.setLogged,\n              user: this.state.userLogged,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 223\n              },\n              __self: this\n            });\n\n          case 'Rececionista':\n            return React.createElement(ProfileFuncionario, {\n              setLogged: this.setLogged,\n              user: this.state.userLogged,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 227\n              },\n              __self: this\n            });\n\n          default:\n            break;\n        }\n\n        return React.createElement(ProfileCliente, {\n          setLogged: this.setLogged,\n          user: this.state.userLogged,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }), React.createElement(Redirect, {\n      exact: true,\n      from: \"/\",\n      to: \"/home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    })))));\n  }\n\n}\n\n;\nexport default App; //---------------------------------------------------------------------------------------\n\nclass Home extends React.Component {\n  render() {\n    return React.createElement(IonPage, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, React.createElement(IonHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, React.createElement(IonToolbar, {\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, React.createElement(IonTitle, {\n      id: \"page-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, \"UMFit\"))), React.createElement(LogInForm, {\n      logged: this.props.logged,\n      history: this.props.history,\n      setLogged: this.props.setLogged,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }), React.createElement(IonFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(IonToolbar, {\n      class: \"ion-text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(IonTitle, {\n      color: \"warning\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"\\xA9 UMFit 2020\"))));\n  }\n\n}\n\n; //---------------------------------------------------------------------------------------\n\nclass ProfileCliente extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = void 0;\n    this.state = {\n      user: this.props.user\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      user: this.props.user\n    });\n  }\n\n  render() {\n    return this.state.user.categoria === \"Premium\" ? React.createElement(IonRouterOutlet, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/profile\",\n      render: () => {\n        return React.createElement(UserProfile, {\n          user: this.state.user,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 310\n          },\n          __self: this\n        });\n      },\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/evolucao\",\n      component: Evolucao,\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/mydetails\",\n      render: () => {\n        return React.createElement(UpdateDetails, {\n          user: this.state.user,\n          email: this.state.user.email,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 314\n          },\n          __self: this\n        });\n      },\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/planoaulas\",\n      component: ConsultarAulasGrupo,\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/ultimaavaliacao\",\n      render: () => {\n        return React.createElement(UltimaAvaliacao, {\n          user: this.state.user,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 318\n          },\n          __self: this\n        });\n      },\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/agendar\",\n      render: () => {\n        return React.createElement(AgendarAvaliacao, {\n          email: this.state.user.email,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 320\n          },\n          __self: this\n        });\n      },\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/planostreino\",\n      render: () => {\n        return React.createElement(ShowPlanoTreino, {\n          user: this.state.user,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 322\n          },\n          __self: this\n        });\n      },\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/logout\",\n      component: () => {\n        return React.createElement(LogOut, {\n          setLogged: this.props.setLogged,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 324\n          },\n          __self: this\n        });\n      },\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"*\",\n      exact: true,\n      component: Component404,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    })) : React.createElement(IonRouterOutlet, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/profile\",\n      render: () => {\n        return React.createElement(UserProfile, {\n          user: this.state.user,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 332\n          },\n          __self: this\n        });\n      },\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/evolucao\",\n      component: Evolucao,\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/mydetails\",\n      render: () => {\n        return React.createElement(UpdateDetails, {\n          user: this.state.user,\n          email: this.state.user.email,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 336\n          },\n          __self: this\n        });\n      },\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/planoaulas\",\n      component: ConsultarAulasGrupo,\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/ultimaavaliacao\",\n      render: () => {\n        return React.createElement(UltimaAvaliacao, {\n          user: this.state.user,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 340\n          },\n          __self: this\n        });\n      },\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/agendar\",\n      render: () => {\n        return React.createElement(AgendarAvaliacao, {\n          email: this.state.user.email,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 342\n          },\n          __self: this\n        });\n      },\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/logout\",\n      component: () => {\n        return React.createElement(LogOut, {\n          setLogged: this.props.setLogged,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 344\n          },\n          __self: this\n        });\n      },\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"*\",\n      exact: true,\n      component: Component404,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346\n      },\n      __self: this\n    }));\n  }\n\n}\n\nclass ProfileFuncionario extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = void 0;\n    this.state = {\n      user: this.props.user\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      user: this.props.user\n    });\n  }\n\n  render() {\n    return React.createElement(IonRouterOutlet, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/profile\",\n      render: () => {\n        return React.createElement(UserProfile, {\n          user: this.state.user,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 382\n          },\n          __self: this\n        });\n      },\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/novouser\",\n      component: InserirUtilizador,\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/editaruser\",\n      render: () => {\n        return React.createElement(EditarUtilizador, {\n          email: this.state.user.email,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 386\n          },\n          __self: this\n        });\n      },\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/removeruser\",\n      render: () => {\n        return React.createElement(RemoveUser, {\n          email: this.state.user.email,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 388\n          },\n          __self: this\n        });\n      },\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/mydetails\",\n      render: () => {\n        return React.createElement(UpdateDetails, {\n          user: this.state.user,\n          email: this.state.user.email,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 390\n          },\n          __self: this\n        });\n      },\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/planoaulas\",\n      component: ConsultarAulasGrupo,\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/logout\",\n      component: () => {\n        return React.createElement(LogOut, {\n          setLogged: this.props.setLogged,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 392\n          },\n          __self: this\n        });\n      },\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"*\",\n      exact: true,\n      component: Component404,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394\n      },\n      __self: this\n    }));\n  }\n\n}\n\nclass ProfileTreinador extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = void 0;\n    this.state = {\n      user: this.props.user\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      user: this.props.user\n    });\n  }\n\n  render() {\n    return React.createElement(IonRouterOutlet, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/profile\",\n      render: () => {\n        return React.createElement(UserProfile, {\n          user: this.state.user,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 430\n          },\n          __self: this\n        });\n      },\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/mydetails\",\n      render: () => {\n        return React.createElement(UpdateDetails, {\n          user: this.state.user,\n          email: this.state.user.email,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 432\n          },\n          __self: this\n        });\n      },\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/planotreino\",\n      component: CriarPlanoTreino,\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/planoalimentar\",\n      component: CriarPlanoAlimentar,\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 436\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/planoaulas\",\n      component: ConsultarAulasGrupo,\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/avaliacaocliente\",\n      component: UltimaAvaliacaoInstrutor,\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 440\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/criaravaliacao\",\n      render: () => {\n        return React.createElement(CriarAvaliacao, {\n          user: this.state.user,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 442\n          },\n          __self: this\n        });\n      },\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile/logout\",\n      component: () => {\n        return React.createElement(LogOut, {\n          setLogged: this.props.setLogged,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 444\n          },\n          __self: this\n        });\n      },\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"*\",\n      exact: true,\n      component: Component404,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 446\n      },\n      __self: this\n    }));\n  }\n\n} //---------------------------------------------------------------------------------------\n\n\nclass LogOut extends React.Component {\n  componentDidMount() {\n    this.props.setLogged(false);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463\n      },\n      __self: this\n    });\n  }\n\n} //---------------------------------------------------------------------------------------\n\n\nclass LogInForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = void 0;\n    this.state = {\n      emailValue: \"\",\n      passwordValue: \"\",\n      rememberMe: false\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"login-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"Logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"phrase\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495\n      },\n      __self: this\n    }, React.createElement(IonText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 496\n      },\n      __self: this\n    }, \"O teu gin\\xE1sio da UMinho...\")), React.createElement(\"div\", {\n      id: \"input-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 499\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 500\n      },\n      __self: this\n    }), React.createElement(IonInput, {\n      required: true,\n      type: \"email\",\n      id: \"email-input\",\n      placeholder: \"E-Mail\",\n      value: this.state.emailValue,\n      onIonChange: e => {\n        this.setState({\n          emailValue: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 511\n      },\n      __self: this\n    }), React.createElement(IonInput, {\n      required: true,\n      type: \"password\",\n      id: \"pass-input\",\n      placeholder: \"Password\",\n      value: this.state.passwordValue,\n      onIonChange: e => {\n        this.setState({\n          passwordValue: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 512\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523\n      },\n      __self: this\n    }, React.createElement(IonButton, {\n      expand: \"block\",\n      type: \"submit\",\n      id: \"login-button\",\n      onClick: async () => {\n        //setShowLoading(true);\n        let pass_enc = new TextEncoder();\n        let encoded = pass_enc.encode(this.state.passwordValue);\n        let hash256 = Buffer.from(sha256(encoded)).toString('hex').toUpperCase();\n        console.log(\"Para a API: /api/user/authenticate\");\n        console.log(\"> E-Mail: \" + this.state.emailValue);\n        console.log(\"> Password: \" + this.state.passwordValue);\n        console.log(\"> Password (sha256): \" + hash256); //request\n\n        let response = authenticate(this.state.emailValue, this.state.passwordValue);\n        await response.then(async value => {\n          //Success OK = 200    \n          if (value.status === 200) {\n            var json = value.json(); //var json: User = await value.json();\n\n            await json.then(value => {\n              const resValue = JSON.parse(value);\n              localStorage.setItem('token', resValue.token);\n              var user = resValue.user;\n              console.log(user.tipoDeUser);\n              this.props.setLogged(true, user); //this.props.history.replace(\"/profile\");\n            }); //Login error: 400    \n          } else {\n            alert(\"E-mail ou password incorretos...\");\n          }\n        }).catch(function (error) {\n          alert(\"Server is currently down... \\n\\n\".concat(\"Error details: \\n\\n\\t\").concat(error));\n        }); //for debug\n        //this.props.setLogged(true);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 524\n      },\n      __self: this\n    }, \"Log-In\")));\n  }\n\n}\n\n;\n\nclass Component404 extends React.Component {\n  render() {\n    return React.createElement(IonPage, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 596\n      },\n      __self: this\n    }, React.createElement(IonHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 599\n      },\n      __self: this\n    }, React.createElement(IonToolbar, {\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 600\n      },\n      __self: this\n    }, React.createElement(IonTitle, {\n      id: \"page-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 601\n      },\n      __self: this\n    }, \"404 - P\\xE1gina inexistente\"))), React.createElement(IonContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 605\n      },\n      __self: this\n    }, React.createElement(IonCard, {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 607\n      },\n      __self: this\n    }, React.createElement(IonCardHeader, {\n      className: \"card404\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 609\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: require('./imgs/404_icon.png'),\n      width: \"20%\",\n      height: \"250\",\n      alt: \"Loading...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 610\n      },\n      __self: this\n    })), React.createElement(IonCardContent, {\n      className: \"card404\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 613\n      },\n      __self: this\n    }, \"A p\\xE1gina que est\\xE1 a tentar aceder foi removida ou n\\xE3o existe...saia do sistema e volte a tentar de novo.\"))));\n  }\n\n}","map":{"version":3,"sources":["/home/joao/Desktop/Projeto-LI4/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/src/App.tsx"],"names":["React","Redirect","Route","IonApp","IonRouterOutlet","IonSplitPane","IonPage","IonHeader","IonToolbar","IonTitle","IonText","IonInput","IonButton","IonCard","IonContent","IonCardContent","IonCardHeader","IonFooter","IonReactRouter","authenticate","getUserStatus","logout","User","sha256","Menu","About","Contact","UserProfile","Evolucao","InserirUtilizador","UpdateDetails","RemoveUser","EditarUtilizador","CriarPlanoTreino","CriarPlanoAlimentar","ConsultarAulasGrupo","UltimaAvaliacao","UltimaAvaliacaoInstrutor","ShowPlanoTreino","CriarAvaliacao","AgendarAvaliacao","App","Component","constructor","props","state","setLogged","logged","user","lastToken","localStorage","getItem","clear","cat","menuss","categoria","tipoDeUser","setState","menus","userLogged","selectedPage","loadingAPIcall","componentDidMount","console","log","tokenFromStorage","then","res","json","data","JSON","parse","status","userMenus","catch","error","render","Home","history","ProfileCliente","email","Component404","ProfileFuncionario","ProfileTreinador","LogOut","LogInForm","emailValue","passwordValue","rememberMe","e","target","value","pass_enc","TextEncoder","encoded","encode","hash256","Buffer","from","toString","toUpperCase","response","resValue","setItem","token","alert","concat","require"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { IonApp, IonRouterOutlet, IonSplitPane, IonPage, IonHeader, IonToolbar, IonTitle, IonText, IonInput, IonButton, IonCard, IonContent, IonCardContent, IonCardHeader, IonFooter } from '@ionic/react';\nimport { IonReactRouter } from '@ionic/react-router';\n\n/* Core CSS required for Ionic components to work properly */\nimport '@ionic/react/css/core.css';\n\n/* Basic CSS for apps built with Ionic */\nimport '@ionic/react/css/normalize.css';\nimport '@ionic/react/css/structure.css';\nimport '@ionic/react/css/typography.css';\n\n/* Optional CSS utils that can be commented out */\nimport '@ionic/react/css/padding.css';\nimport '@ionic/react/css/float-elements.css';\nimport '@ionic/react/css/text-alignment.css';\nimport '@ionic/react/css/text-transformation.css';\nimport '@ionic/react/css/flex-utils.css';\nimport '@ionic/react/css/display.css';\n\n/* Theme variables */\nimport './theme/variables.css';\n\n//---------------------------------------------------------------------------------------\n//---------------------------------------------------------------------------------------\n\nimport { authenticate, getUserStatus, logout } from './models/API/UserAPI';\nimport { User } from './models/Other/User';\n\nimport sha256 from \"fast-sha256\";\n\n//---------------------------------------------------------------------------------------\n//---------------------------------------------------------------------------------------\n\nimport './components/css/LogIn.css';\nimport './pages/css/Home.css';\nimport './pages/css/404.css';\n\nimport Menu from './components/MenuHome';\nimport About from './pages/About';\nimport Contact from './pages/Contact';\nimport UserProfile from './pages/UserProfile';\nimport Evolucao from './pages/user/EvolucaoPage/Evolucao';\nimport InserirUtilizador from './pages/funcionario/InserirUtilizador';\nimport UpdateDetails from './pages/UpdateDetails';\nimport RemoveUser from './pages/funcionario/RemoveUser';\nimport EditarUtilizador from './pages/funcionario/EditarUtilizador';\nimport CriarPlanoTreino from './pages/instrutor/CriarPlanoTreino';\nimport CriarPlanoAlimentar from './pages/instrutor/CriarPlanoAlimentar';\nimport ConsultarAulasGrupo from './pages/ConsultarAulasGrupo';\nimport UltimaAvaliacao from './pages/user/UltimaAvaliacao';\nimport UltimaAvaliacaoInstrutor from './pages/instrutor/UltimaAvaliacaoInstrutor';\nimport ShowPlanoTreino from './pages/user/ShowPlanoTreino';\nimport CriarAvaliacao from './pages/instrutor/CriarAvaliacao';\nimport AgendarAvaliacao from './pages/user/AgendarAvaliacao';\n\n//---------------------------------------------------------------------------------------\n\nclass App extends React.Component {\n\n  state: {\n    selectedPage: string,\n    menus: string,\n    logged: boolean,\n    loadingAPIcall: boolean,\n    userLogged: User\n  }\n  \n  setLogged = (logged: boolean, user: User) => {\n\n    if (logged === false) {\n      \n      var lastToken = localStorage.getItem('token');\n\n      if (lastToken)\n        logout(lastToken);\n\n      localStorage.clear();\n    }\n\n    var cat;\n    var menuss;\n\n    if (logged) {\n      cat = user.categoria\n      menuss = user.tipoDeUser === \"Cliente\" ? cat : user.tipoDeUser   \n    }\n\n    this.setState({ \n      logged: logged, \n      menus: logged ? menuss : 'home',\n      userLogged: user\n    });\n\n  };\n\n  constructor(props: any) {\n    \n    super(props);\n\n    this.state = {\n      selectedPage: '',\n      menus: 'home',\n      logged: false,\n      loadingAPIcall: true,\n      //loadingAPIcall: false,\n      userLogged: new User(\"\", \"\", -1, \"\", -1, \"\", \"\", \"\")\n    };\n\n  }\n\n\n  async componentDidMount() {\n\n    console.log(\"com..DidMount() -> updating state...\");\n\n    var tokenFromStorage = localStorage.getItem('token');\n    console.log(\"TOKEN = \" + tokenFromStorage);\n    //existe token da sessao\n    if (tokenFromStorage != null) {\n\n      await getUserStatus(tokenFromStorage)\n            .then(res => res.json())\n            .then((data) => {\n\n        const res = JSON.parse(data);\n\n        if (res.status === \"online\") {\n          \n          var userMenus = res.user.categoria\n          \n          this.setState({\n            logged: true,\n            menus: res.user.tipoDeUser === \"Cliente\" ? userMenus : res.user.tipoDeUser,\n            loadingAPIcall: false,\n            userLogged: res.user\n          });\n        \n        //Token invalido\n        } else if (res.status === \"offline\") {\n\n          localStorage.clear();\n\n          this.setState({\n            logged: false,\n            menus: 'home',\n            loadingAPIcall: false,\n            userLogged: null,\n          });\n        \n        }\n\n      }).catch(function(error) {\n\n        console.log(error);\n      });   \n\n    } else { //Nao existe token no localstorage\n\n      this.setState({\n        logged: false,\n        menus: 'home',\n        loadingAPIcall: false,\n        userLogged: null,\n      });\n    \n    }\n  }\n\n  render() {\n\n    console.log(\"[...] Rendering App component...\");\n\n    var logged = this.state.logged;\n    var user = this.state.userLogged;\n\n    return (\n        <IonApp>\n          {\n            this.state.loadingAPIcall  ?<div></div> : (\n              <IonReactRouter>\n            \n              <IonSplitPane id=\"split-pane\" contentId=\"main\">\n                <Menu selectedPage={this.state.selectedPage} menus={this.state.menus}/>\n                  \n                  <IonRouterOutlet id=\"main\">\n                    \n                    <Route path=\"/home\" component={(props: any) => {\n                      \n                      if (logged) {\n                        \n                        return <Redirect to=\"/profile\" />;\n                      } \n                      \n                      return <Home logged={logged} {...props} setLogged={this.setLogged}/>;\n    \n                    }} />\n                    \n                    <Route path=\"/about\" component={About} exact={true} />\n                                        \n                    <Route path=\"/contact\" component={Contact} exact={true} />                          \n                    \n                    {/* Routas de teste como públicas, dps remover */}\n\n                    {/* ------------------------------------------ */}\n\n                    <Route path=\"/profile\" component={(props: any) => {\n                      \n                      if (!logged) {\n                        \n                        return <Redirect to=\"/home\" />;\n                      }\n\n                      switch(user.tipoDeUser) {\n\n                        case 'Cliente': \n\n                          return <ProfileCliente setLogged={this.setLogged} user={this.state.userLogged}/>;\n\n                        case 'Instrutor': \n                \n                          return <ProfileTreinador setLogged={this.setLogged} user={this.state.userLogged}/>;\n\n                        case 'Rececionista': \n                          \n                          return <ProfileFuncionario setLogged={this.setLogged} user={this.state.userLogged}/>;                          \n\n                        default: break;\n                      }\n\n                      return <ProfileCliente setLogged={this.setLogged} user={this.state.userLogged}/>;\n    \n                    }} />\n    \n                    <Redirect exact from=\"/\" to=\"/home\" />\n                  \n                  </IonRouterOutlet>\n                  \n    \n              </IonSplitPane>\n            </IonReactRouter>\n                \n            )\n          }\n        </IonApp>\n      );\n  }\n};\n\nexport default App;\n\n//---------------------------------------------------------------------------------------\n\nclass Home extends React.Component<any> {\n\n  render() {\n\n    return (\n      <IonPage>\n\n\n        <IonHeader>\n          <IonToolbar color=\"primary\">\n            <IonTitle id=\"page-title\">UMFit</IonTitle>\n          </IonToolbar>\n        </IonHeader>\n\n        <LogInForm logged={this.props.logged} history={this.props.history} setLogged={this.props.setLogged}/>\n        \n        <IonFooter>\n          <IonToolbar class=\"ion-text-center\">\n            <IonTitle color=\"warning\">© UMFit 2020</IonTitle>\n          </IonToolbar>\n        </IonFooter>\n\n      </IonPage>\n    );\n  }\n};\n\n//---------------------------------------------------------------------------------------\n\nclass ProfileCliente extends React.Component<any> {\n\n  state: {\n    user: User\n  }\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      user: this.props.user\n    };\n  }\n  \n  componentDidMount() {\n\n    this.setState({\n      user: this.props.user\n    });\n  }\n  \n  render() {\n\n    return(\n          this.state.user.categoria === \"Premium\" ? \n              <IonRouterOutlet>\n\n                <Route path=\"/profile\" render={() => {return <UserProfile user={this.state.user} />}} exact={true} />\n\n                <Route path=\"/profile/evolucao\" component={Evolucao} exact={true} />\n\n                <Route path=\"/profile/mydetails\" render={() => {return <UpdateDetails user={this.state.user} email={this.state.user.email} />}} exact={true} />\n\n                <Route path=\"/profile/planoaulas\" component={ConsultarAulasGrupo} exact={true} />\n\n                <Route path=\"/profile/ultimaavaliacao\" render={() => {return <UltimaAvaliacao user={this.state.user}/>}} exact={true} />\n\n                <Route path=\"/profile/agendar\" render={() => {return <AgendarAvaliacao email={this.state.user.email}/>}} exact={true} />\n\n                <Route path=\"/profile/planostreino\" render={() => {return <ShowPlanoTreino user={this.state.user}/>}} exact={true} />\n\n                <Route path=\"/profile/logout\" component={() => {return <LogOut setLogged={this.props.setLogged}/>}} exact={true} />\n          \n                <Route path='*' exact={true} component={Component404} />\n\n              </IonRouterOutlet>\n        :\n              <IonRouterOutlet>\n\n              <Route path=\"/profile\" render={() => {return <UserProfile user={this.state.user} />}} exact={true} />\n\n              <Route path=\"/profile/evolucao\" component={Evolucao} exact={true} />\n\n              <Route path=\"/profile/mydetails\" render={() => {return <UpdateDetails user={this.state.user} email={this.state.user.email} />}} exact={true} />\n\n              <Route path=\"/profile/planoaulas\" component={ConsultarAulasGrupo} exact={true} />\n\n              <Route path=\"/profile/ultimaavaliacao\" render={() => {return <UltimaAvaliacao user={this.state.user}/>}} exact={true} />\n\n              <Route path=\"/profile/agendar\" render={() => {return <AgendarAvaliacao email={this.state.user.email}/>}} exact={true} />\n\n              <Route path=\"/profile/logout\" component={() => {return <LogOut setLogged={this.props.setLogged}/>}} exact={true} />\n        \n              <Route path='*' exact={true} component={Component404} />\n\n            </IonRouterOutlet>\n\n    );    \n  }\n\n}\n\nclass ProfileFuncionario extends React.Component<any> {\n\n  state: {\n    user: User\n  }\n\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      user: this.props.user\n    };\n  }\n\n  componentDidMount() {\n\n    this.setState({\n      user: this.props.user\n    });\n  }\n\n  render() {\n\n    return(\n              \n        <IonRouterOutlet>\n\n          <Route path=\"/profile\" render={() => {return <UserProfile user={this.state.user} />}} exact={true} />\n\n          <Route path=\"/profile/novouser\" component={InserirUtilizador} exact={true} />\n\n          <Route path=\"/profile/editaruser\" render={() => {return <EditarUtilizador email={this.state.user.email}/>}} exact={true} />\n\n          <Route path=\"/profile/removeruser\" render={() => {return <RemoveUser email={this.state.user.email}/>}} exact={true} />\n\n          <Route path=\"/profile/mydetails\" render={() => {return <UpdateDetails user={this.state.user} email={this.state.user.email} />}} exact={true} />\n          <Route path=\"/profile/planoaulas\" component={ConsultarAulasGrupo} exact={true} />\n          <Route path=\"/profile/logout\" component={() => {return <LogOut setLogged={this.props.setLogged}/>}} exact={true} />\n\n          <Route path='*' exact={true} component={Component404} />\n\n        </IonRouterOutlet>\n      \n    );    \n  }\n\n}\n\nclass ProfileTreinador extends React.Component<any> {\n\n  state: {\n    user: User\n  }\n\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      user: this.props.user\n    };\n  }\n  \n  componentDidMount() {\n\n    this.setState({\n      user: this.props.user\n    });\n  }\n  \n  render() {\n\n    return(\n              \n        <IonRouterOutlet>\n\n          <Route path=\"/profile\" render={() => {return <UserProfile user={this.state.user} />}} exact={true} />\n\n          <Route path=\"/profile/mydetails\" render={() => {return <UpdateDetails user={this.state.user} email={this.state.user.email} />}} exact={true} />\n          \n          <Route path=\"/profile/planotreino\" component={CriarPlanoTreino}  exact={true}/>\n\n          <Route path=\"/profile/planoalimentar\" component={CriarPlanoAlimentar}  exact={true}/>\n\n          <Route path=\"/profile/planoaulas\" component={ConsultarAulasGrupo} exact={true} />\n\n          <Route path=\"/profile/avaliacaocliente\" component={UltimaAvaliacaoInstrutor} exact={true} />\n\n          <Route path=\"/profile/criaravaliacao\" render={() => { return <CriarAvaliacao user={this.state.user} /> } } exact={true} />\n\n          <Route path=\"/profile/logout\" component={() => {return <LogOut setLogged={this.props.setLogged}/>}} exact={true} />\n\n          <Route path='*' exact={true} component={Component404} />\n\n        </IonRouterOutlet>\n      \n    );    \n  }\n\n}\n//---------------------------------------------------------------------------------------\n\nclass LogOut extends React.Component<any> {\n\n  componentDidMount() {\n    this.props.setLogged(false);\n  }\n\n  render() {\n    return <div></div>;\n  }\n}\n\n//---------------------------------------------------------------------------------------\n\nclass LogInForm extends React.Component<any> {\n\n  state: {\n    emailValue: string,\n    passwordValue: string,\n    rememberMe: boolean\n  }\n\n  constructor(props: any) {\n    \n    super(props);\n\n    this.state = {\n      emailValue: \"\",\n      passwordValue: \"\",\n      rememberMe: false\n    }\n  }\n\n  render() {\n\n    return (\n\n      <div id=\"login-form\">\n          <div id=\"Logo\"></div>\n          \n          <div id=\"phrase\">\n              <IonText>O teu ginásio da UMinho...</IonText>\n          </div>\n    \n      <div id=\"input-form\">\n          <br></br>\n          <IonInput required type=\"email\" id=\"email-input\" placeholder=\"E-Mail\"\n          value={this.state.emailValue}\n          onIonChange={(e) => {\n             \n            this.setState({\n              emailValue: (e.target as HTMLInputElement).value,\n            });\n\n          }}>\n          </IonInput>\n          <br></br>\n          <IonInput required type=\"password\" id=\"pass-input\" placeholder=\"Password\"\n          value={this.state.passwordValue}\n          onIonChange={(e) => {\n\n            this.setState({\n              passwordValue: (e.target as HTMLInputElement).value,\n            });\n\n          }}>\n          </IonInput>\n      </div>\n      <div>\n      <IonButton expand=\"block\" type=\"submit\" id=\"login-button\" onClick={async () => {\n              \n              //setShowLoading(true);\n\n              let pass_enc = new TextEncoder();\n              let encoded = pass_enc.encode(this.state.passwordValue);\n              let hash256 = Buffer.from(sha256(encoded)).toString('hex').toUpperCase();\n\n              console.log(\"Para a API: /api/user/authenticate\");\n              console.log(\"> E-Mail: \" + this.state.emailValue);\n              console.log(\"> Password: \" + this.state.passwordValue);\n              console.log(\"> Password (sha256): \" + hash256);\n\n              //request\n              let response = authenticate(this.state.emailValue, this.state.passwordValue);\n\n              await response.then(async (value) => {\n                  \n                  //Success OK = 200    \n                  if (value.status === 200) {\n                                   \n                      var json = value.json();\n                      //var json: User = await value.json();\n                     \n                      await json.then((value) => {\n                          \n                          const resValue = JSON.parse(value);\n                          \n                          localStorage.setItem('token', resValue.token);\n\n                          var user: User = resValue.user;\n\n                          console.log(user.tipoDeUser);\n\n                          this.props.setLogged(true, user);\n\n                          //this.props.history.replace(\"/profile\");\n                      });\n\n                  //Login error: 400    \n                  } else {\n\n                      alert(\"E-mail ou password incorretos...\");\n\n                  }\n              }).catch(function(error) {\n                \n                alert(\"Server is currently down... \\n\\n\".concat(\"Error details: \\n\\n\\t\").concat(error));\n              });\n\n              //for debug\n              //this.props.setLogged(true);\n\n          }\n      }>\n          Log-In\n      </IonButton>\n      </div>\n    </div> \n  );\n  }\n\n  \n};\n\n\nclass Component404 extends React.Component {\n\n  render() {\n\n    return (\n\n      <IonPage>\n\n\n        <IonHeader>\n          <IonToolbar color=\"primary\">\n            <IonTitle id=\"page-title\">404 - Página inexistente</IonTitle>\n          </IonToolbar>\n        </IonHeader>\n\n        <IonContent>\n\n            <IonCard className=\"wrapper\">\n\n              <IonCardHeader className=\"card404\">\n                <img src={require('./imgs/404_icon.png')} width=\"20%\" height=\"250\" alt=\"Loading...\"/> \n              </IonCardHeader>\n\n              <IonCardContent className=\"card404\">\n                A página que está a tentar aceder foi removida ou não existe...saia do sistema e volte a tentar de novo.\n              </IonCardContent>\n          </IonCard>\n          \n        </IonContent>\n\n      </IonPage>\n\n    );\n\n  }\n}\n"]},"metadata":{},"sourceType":"module"}