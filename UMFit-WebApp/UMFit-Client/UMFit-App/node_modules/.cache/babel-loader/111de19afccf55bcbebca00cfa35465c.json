{"ast":null,"code":"var _jsxFileName = \"/home/joao/Desktop/Projeto-LI4/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/src/App.tsx\";\n\n/* Core CSS required for Ionic components to work properly */\nimport '@ionic/react/css/core.css';\n/* Basic CSS for apps built with Ionic */\n\nimport '@ionic/react/css/normalize.css';\nimport '@ionic/react/css/structure.css';\nimport '@ionic/react/css/typography.css';\n/* Optional CSS utils that can be commented out */\n\nimport '@ionic/react/css/padding.css';\nimport '@ionic/react/css/float-elements.css';\nimport '@ionic/react/css/text-alignment.css';\nimport '@ionic/react/css/text-transformation.css';\nimport '@ionic/react/css/flex-utils.css';\nimport '@ionic/react/css/display.css';\n/* Theme variables */\n\nimport './theme/variables.css'; //---------------------------------------------------------------------------------------\n\nimport './components/css/LogIn.css';\nimport './pages/css/Home.css'; //---------------------------------------------------------------------------------------\n//---------------------------------------------------------------------------------------\n//---------------------------------------------------------------------------------------\n\nimport React, { useState } from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { IonApp, IonRouterOutlet, IonSplitPane, IonPage, IonHeader, IonToolbar, IonButtons, IonMenuButton, IonTitle, IonContent, IonText, IonInput, IonButton, IonLoading } from '@ionic/react';\nimport { IonReactRouter } from '@ionic/react-router'; //---------------------------------------------------------------------------------------\n\nimport { authenticate } from './models/API/UserAPI';\nimport { formatUser } from './models/Other/User';\nimport sha256 from \"fast-sha256\"; //---------------------------------------------------------------------------------------\n\nimport Menu from './components/MenuHome';\nimport About from './pages/About';\nimport Contact from './pages/Contact';\nimport UserHome from './pages/UserHome'; //---------------------------------------------------------------------------------------\n\nvar authenticationInfo = {\n  isAuthenticated: false,\n\n  signin() {\n    this.isAuthenticated = true;\n  },\n\n  signout() {\n    this.isAuthenticated = false;\n  }\n\n};\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      selectedPage: \"\",\n      menuGroup: \"home\"\n    };\n  }\n\n  handleSignIn() {\n    this.setState({\n      menuGroup: 'user'\n    });\n  }\n\n  render() {\n    return React.createElement(IonApp, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(IonReactRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(IonSplitPane, {\n      id: \"split-pane\",\n      contentId: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Menu, {\n      selectedPage: '',\n      menus: 'home',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(IonRouterOutlet, {\n      id: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/main\",\n      component: Main,\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile\",\n      component: () => {\n        if (authenticationInfo.isAuthenticated === true) {\n          return React.createElement(UserHome, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 94\n            },\n            __self: this\n          });\n        } else {\n          return React.createElement(Redirect, {\n            to: \"/main\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 98\n            },\n            __self: this\n          });\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/aval\",\n      component: Contact,\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => React.createElement(Redirect, {\n        to: \"/main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    })))));\n  }\n\n}\n\n;\nexport default App; //---------------------------------------------------------------------------------------\n\nconst Profile = () => {\n  const [selectedPage] = useState('');\n  return React.createElement(IonReactRouter, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(IonRouterOutlet, {\n    id: \"main\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(IonSplitPane, {\n    id: \"split-pane\",\n    contentId: \"main\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(Menu, {\n    selectedPage: selectedPage,\n    menus: 'user',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  })), React.createElement(Route, {\n    path: \"/my\",\n    component: Home,\n    exact: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/aval\",\n    component: About,\n    exact: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/planos\",\n    component: Contact,\n    exact: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  })));\n};\n\nconst Main = () => {\n  const [selectedPage] = useState('');\n  return React.createElement(IonReactRouter, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, React.createElement(IonRouterOutlet, {\n    id: \"main\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, React.createElement(IonSplitPane, {\n    id: \"split-pane\",\n    contentId: \"main\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, React.createElement(Menu, {\n    selectedPage: selectedPage,\n    menus: 'home',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  })), React.createElement(Route, {\n    path: \"/login\",\n    component: Home,\n    exact: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/about\",\n    component: About,\n    exact: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/contact\",\n    component: Contact,\n    exact: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  })));\n};\n\nclass Home extends React.Component {\n  render() {\n    return React.createElement(IonPage, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(IonHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(IonToolbar, {\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(IonButtons, {\n      slot: \"start\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(IonMenuButton, {\n      \"auto-hide\": \"false\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    })), React.createElement(IonTitle, {\n      id: \"page-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, \"UMFit\"))), React.createElement(IonContent, {\n      class: \"background-image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }), React.createElement(LogIn, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }));\n  }\n\n}\n\n; //---------------------------------------------------------------------------------------\n\nconst LogIn = () => {\n  const [showLoading, setShowLoading] = useState(false);\n  const [emailValue, setEmailValue] = useState(\"\");\n  const [passwordValue, setPasswordValue] = useState(\"\");\n  setTimeout(() => {\n    setShowLoading(false);\n  }, 2000);\n\n  if (authenticationInfo.isAuthenticated) {\n    return React.createElement(Redirect, {\n      to: \"/profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    });\n  } else return React.createElement(\"div\", {\n    id: \"login-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"Logo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    id: \"phrase\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222\n    },\n    __self: this\n  }, React.createElement(IonText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223\n    },\n    __self: this\n  }, \"O teu gin\\xE1sio da UMinho...\")), React.createElement(\"div\", {\n    id: \"input-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225\n    },\n    __self: this\n  }, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  }), React.createElement(IonInput, {\n    required: true,\n    type: \"email\",\n    id: \"email-input\",\n    placeholder: \"E-Mail\",\n    value: emailValue,\n    onIonChange: e => {\n      setEmailValue(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233\n    },\n    __self: this\n  }), React.createElement(IonInput, {\n    required: true,\n    type: \"password\",\n    id: \"pass-input\",\n    placeholder: \"Password\",\n    value: passwordValue,\n    onIonChange: e => {\n      setPasswordValue(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234\n    },\n    __self: this\n  })), React.createElement(IonButton, {\n    expand: \"block\",\n    type: \"submit\",\n    id: \"login-button\",\n    onClick: () => {\n      setShowLoading(true);\n      let pass_enc = new TextEncoder();\n      let encoded = pass_enc.encode(passwordValue);\n      let hash256 = Buffer.from(sha256(encoded)).toString('hex').toUpperCase();\n      console.log(\"Para a API: /api/user/authenticate\");\n      console.log(\"> E-Mail: \" + emailValue);\n      console.log(\"> Password: \" + passwordValue);\n      console.log(\"> Password (sha256): \" + hash256); //request\n\n      let response = authenticate(emailValue, passwordValue);\n      response.then(function (value) {\n        //Success OK = 200    \n        if (value.status === 200) {\n          var json = value.json();\n          json.then(function (value) {\n            let user = formatUser(value);\n            console.log(user); //alert(\"Hello \" + user.email);\n\n            alert(\"Bem-vindo \" + user.email);\n          });\n          authenticationInfo.signin(); //Login error: 400    \n        } else {\n          alert(\"E-mail ou password incorretos...\");\n          authenticationInfo.signout();\n        }\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241\n    },\n    __self: this\n  }, \"Log-In\"), React.createElement(IonLoading, {\n    isOpen: showLoading,\n    onDidDismiss: () => setShowLoading(false),\n    message: 'Espere um momento...',\n    duration: 5000,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290\n    },\n    __self: this\n  }));\n};","map":{"version":3,"sources":["/home/joao/Desktop/Projeto-LI4/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/src/App.tsx"],"names":["React","useState","Redirect","Route","IonApp","IonRouterOutlet","IonSplitPane","IonPage","IonHeader","IonToolbar","IonButtons","IonMenuButton","IonTitle","IonContent","IonText","IonInput","IonButton","IonLoading","IonReactRouter","authenticate","formatUser","sha256","Menu","About","Contact","UserHome","authenticationInfo","isAuthenticated","signin","signout","App","Component","state","selectedPage","menuGroup","handleSignIn","setState","render","Main","Profile","Home","LogIn","showLoading","setShowLoading","emailValue","setEmailValue","passwordValue","setPasswordValue","setTimeout","e","target","value","pass_enc","TextEncoder","encoded","encode","hash256","Buffer","from","toString","toUpperCase","console","log","response","then","status","json","user","alert","email"],"mappings":"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","sourcesContent":["/* Core CSS required for Ionic components to work properly */\nimport '@ionic/react/css/core.css';\n\n/* Basic CSS for apps built with Ionic */\nimport '@ionic/react/css/normalize.css';\nimport '@ionic/react/css/structure.css';\nimport '@ionic/react/css/typography.css';\n\n/* Optional CSS utils that can be commented out */\nimport '@ionic/react/css/padding.css';\nimport '@ionic/react/css/float-elements.css';\nimport '@ionic/react/css/text-alignment.css';\nimport '@ionic/react/css/text-transformation.css';\nimport '@ionic/react/css/flex-utils.css';\nimport '@ionic/react/css/display.css';\n\n/* Theme variables */\nimport './theme/variables.css';\n\n//---------------------------------------------------------------------------------------\n\nimport './components/css/LogIn.css';\nimport './pages/css/Home.css';\n\n//---------------------------------------------------------------------------------------\n//---------------------------------------------------------------------------------------\n//---------------------------------------------------------------------------------------\n\nimport React, { useState } from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { IonApp, IonRouterOutlet, IonSplitPane, IonPage, IonHeader, IonToolbar, IonButtons, IonMenuButton, IonTitle, IonContent, IonText, IonInput, IonButton, IonLoading } from '@ionic/react';\nimport { IonReactRouter } from '@ionic/react-router';\n\n//---------------------------------------------------------------------------------------\n\nimport { authenticate } from './models/API/UserAPI';\nimport { User, formatUser } from './models/Other/User';\n\nimport sha256 from \"fast-sha256\";\n\n//---------------------------------------------------------------------------------------\n\nimport Menu from './components/MenuHome';\nimport About from './pages/About';\nimport Contact from './pages/Contact';\n\nimport UserHome from './pages/UserHome';\n\n//---------------------------------------------------------------------------------------\n\nvar authenticationInfo = {\n  isAuthenticated: false,\n  signin() {\n    this.isAuthenticated = true;\n  },\n  signout() {\n    this.isAuthenticated = false;\n  }\n}\n\nclass App extends React.Component {\n\n  state = {\n    selectedPage: \"\",\n    menuGroup: \"home\"\n  }\n\n  handleSignIn() {\n    this.setState({\n      menuGroup: 'user'\n    });\n  }\n\n  render() {\n\n    return (\n      \n      <IonApp>\n        \n        <IonReactRouter>\n \n        <IonSplitPane id=\"split-pane\" contentId=\"main\">\n        \n        <Menu selectedPage={''} menus={'home'}/>\n\n           <IonRouterOutlet id=\"main\">\n\n                <Route path=\"/main\" component={Main} exact={true} />\n                \n                <Route path='/profile' component={() => {\n  \n                  if (authenticationInfo.isAuthenticated === true) {\n\n                    return <UserHome />;\n  \n                  } else {\n\n                    return <Redirect to='/main' />;\n                  }\n  \n                }}/>\n                \n                <Route path=\"/aval\" component={Contact} exact={true} />\n  \n                <Route exact path=\"/\" render={() => <Redirect to=\"/main\" />} />\n \n              </IonRouterOutlet>\n        </IonSplitPane>\n        </IonReactRouter>\n      \n      </IonApp>\n    );\n    }\n};\n\nexport default App;\n\n//---------------------------------------------------------------------------------------\n\nconst Profile: React.FC = () => {\n  \n  const [selectedPage] = useState('');\n\n  return(\n   \n    <IonReactRouter>\n\n      <IonRouterOutlet id=\"main\">\n\n        <IonSplitPane id=\"split-pane\" contentId=\"main\">\n        \n          <Menu selectedPage={selectedPage} menus={'user'}/>\n\n        </IonSplitPane>\n      \n        <Route path=\"/my\" component={Home} exact={true} />\n        <Route path=\"/aval\" component={About} exact={true} />\n        <Route path=\"/planos\" component={Contact} exact={true} />\n\n      </IonRouterOutlet>\n \n    </IonReactRouter>      \n  );\n}\n\nconst Main: React.FC = () => {\n\n  const [selectedPage] = useState('');\n\n  return(\n   \n    <IonReactRouter>\n\n      <IonRouterOutlet id=\"main\">\n\n        <IonSplitPane id=\"split-pane\" contentId=\"main\">\n        \n          <Menu selectedPage={selectedPage} menus={'home'}/>\n\n        </IonSplitPane>\n      \n        <Route path=\"/login\" component={Home} exact={true} />\n        <Route path=\"/about\" component={About} exact={true} />\n        <Route path=\"/contact\" component={Contact} exact={true} />\n\n      </IonRouterOutlet>\n \n    </IonReactRouter>      \n\n    );\n}\n\n\nclass Home extends React.Component {\n\n  render() {\n\n    return (\n      \n      <IonPage>\n        \n        <IonHeader>\n          <IonToolbar color=\"primary\">\n            <IonButtons slot=\"start\">\n              <IonMenuButton auto-hide=\"false\"></IonMenuButton>\n            </IonButtons>\n            <IonTitle id=\"page-title\">UMFit</IonTitle>\n          </IonToolbar>\n        </IonHeader>\n      \n      <IonContent class=\"background-image\"></IonContent>\n      \n      <LogIn />\n      \n      </IonPage>\n    );\n  }\n\n};\n\n//---------------------------------------------------------------------------------------\n\nconst LogIn: React.FC = () => {\n\n  const [showLoading, setShowLoading] = useState(false);\n  const [emailValue, setEmailValue] = useState<string>(\"\");\n  const [passwordValue, setPasswordValue] = useState<string>(\"\");\n\n  setTimeout(() => {\n      setShowLoading(false);\n  }, 2000);\n  \n  if (authenticationInfo.isAuthenticated) {\n    \n    return <Redirect to='/profile'/>\n  \n  } else\n    return (\n\n      <div id=\"login-form\">\n          <div id=\"Logo\"></div>\n          <div id=\"phrase\">\n              <IonText>O teu ginásio da UMinho...</IonText>\n          </div>\n      <div id=\"input-form\">\n          <br></br>\n          <IonInput required type=\"email\" id=\"email-input\" placeholder=\"E-Mail\"\n          value={emailValue}\n          onIonChange={(e) => {\n              setEmailValue((e.target as HTMLInputElement).value);\n          }}>\n          </IonInput>\n          <br></br>\n          <IonInput required type=\"password\" id=\"pass-input\" placeholder=\"Password\"\n          value={passwordValue}\n          onIonChange={(e) => {\n              setPasswordValue((e.target as HTMLInputElement).value);\n          }}>\n          </IonInput>\n      </div>\n      <IonButton expand=\"block\" type=\"submit\" id=\"login-button\" onClick={() => {\n              \n              setShowLoading(true);\n\n              let pass_enc = new TextEncoder();\n              let encoded = pass_enc.encode(passwordValue);\n              let hash256 = Buffer.from(sha256(encoded)).toString('hex').toUpperCase();\n\n              console.log(\"Para a API: /api/user/authenticate\");\n              console.log(\"> E-Mail: \" + emailValue);\n              console.log(\"> Password: \" + passwordValue);\n              console.log(\"> Password (sha256): \" + hash256);\n\n              //request\n              let response = authenticate(emailValue, passwordValue);\n\n              response.then(function(value) {\n                  \n                  //Success OK = 200    \n                  if (value.status === 200) {\n                                   \n                      var json = value.json();\n                      \n                      json.then(function(value) {\n                          \n                          let user: User = formatUser(value);\n                          \n                          console.log(user);\n                          \n                          //alert(\"Hello \" + user.email);\n                          alert(\"Bem-vindo \" + user.email);\n\n                      });\n\n                      authenticationInfo.signin();\n\n                  //Login error: 400    \n                  } else {\n\n                      alert(\"E-mail ou password incorretos...\");\n                    \n                      authenticationInfo.signout();\n                  }\n              });\n          }\n      }>\n          Log-In\n      </IonButton>\n\n          <IonLoading\n              isOpen={showLoading}\n              onDidDismiss={() => setShowLoading(false)}\n              message={'Espere um momento...'}\n              duration={5000}\n          />\n      </div> \n  );\n  \n};\n"]},"metadata":{},"sourceType":"module"}