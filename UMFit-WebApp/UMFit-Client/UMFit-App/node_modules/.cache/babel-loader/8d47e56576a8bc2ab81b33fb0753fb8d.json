{"ast":null,"code":"var _jsxFileName = \"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/src/pages/ConsultarAulasGrupo.tsx\";\nimport { IonAlert, IonButton, IonCard, IonCardHeader, IonCardSubtitle, IonCardTitle, IonCol, IonContent, IonGrid, IonHeader, IonIcon, IonItem, IonLabel, IonPage, IonPopover, IonRow, IonSelect, IonSelectOption, IonTitle, IonToolbar } from \"@ionic/react\";\nimport { addOutline, bodyOutline, calendarOutline, informationOutline, removeOutline, sendOutline, timerOutline } from \"ionicons/icons\";\nimport React from \"react\";\nimport { alunosAula, desmarcarAula, getPlanoSemanalAulas, marcarAula } from \"../models/API/AulaGrupoAPI\";\nimport \"./css/ConsultarAulasGrupo.css\"; //---------------------------------------------------------------------------------------------------------------------------------\n\nvar diasDaSemana = [\"Segunda\", \"Terca\", \"Quarta\", \"Quinta\", \"Sexta\", \"Sábado\", \"Domingo\"];\n\nvar CyclingIMG = require('../imgs/aulas/cycling.png');\n\nvar PilatesIMG = require('../imgs/aulas/pilates.png');\n\nvar CrossTrainingIMG = require('../imgs/aulas/cross-training.png');\n\nvar FuncionalIMG = require('../imgs/aulas/funcional.png');\n\nvar JumpIMG = require('../imgs/aulas/jump.png');\n\nvar KickboxingIMG = require('../imgs/aulas/kickboxing.png');\n\nvar SalsaIMG = require('../imgs/aulas/salsa.png');\n\nvar YogaIMG = require('../imgs/aulas/Yoga.png');\n\nvar LocalIMG = require('../imgs/aulas/local.png');\n\nvar TrxIMG = require('../imgs/aulas/trx.png');\n\nvar ZumbaIMG = require('../imgs/aulas/zumba.png');\n\nvar NatacaoIMG = require('../imgs/aulas/natacao.png'); //---------------------------------------------------------------------------------------------------------------------------------\n\n\nclass ConsultarAulasGrupo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = void 0;\n    this.timerID = void 0;\n    this.timerID = null;\n    this.state = {\n      planoAulasSemanal: new Map(),\n      diaSelecionado: \"\",\n      userType: this.props.user.tipoDeUser,\n      userEmail: this.props.user.email,\n      alert: \"\",\n      boolListaClientes: false,\n      listaClientes: []\n    };\n  }\n\n  async componentDidMount() {\n    this.update();\n    this.timerID = setInterval(() => this.update(), 5000);\n    var day = new Date().getDay() - 1;\n    var ususalSearchDay = diasDaSemana[new Date().getDay() - 1];\n    var notUsual = new Set([\"Sábado\", \"Domingo\"]);\n\n    if (notUsual.has(ususalSearchDay) || day === -1) {\n      ususalSearchDay = \"Segunda\";\n    }\n\n    this.setState({\n      diaSelecionado: ususalSearchDay\n    });\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerID);\n  }\n\n  async update() {\n    const res = await getPlanoSemanalAulas(this.state.userEmail);\n    const json = res.json();\n    var planoAulasSemanalTest = new Map();\n    json.then(data => {\n      var resultObj = JSON.parse(data);\n      console.log(resultObj);\n\n      for (var i = 0; i < diasDaSemana.length; i++) {\n        let diaString = diasDaSemana[i];\n        var diaAulas = resultObj[diaString];\n        planoAulasSemanalTest.set(diaString, diaAulas);\n      }\n\n      this.setState({\n        planoAulasSemanal: planoAulasSemanalTest\n      });\n    });\n  }\n\n  async desmarcarAula(id) {\n    await desmarcarAula(id);\n    this.update();\n  }\n\n  async marcarAula(id) {\n    await marcarAula(id).then(data => {\n      console.log(data);\n      if (data.status === 200) this.setState({\n        alert: \"Aula marcada com sucesso!\"\n      });else this.setState({\n        alert: \"Aula não marcada com sucesso!\"\n      });\n      this.update();\n    });\n  }\n\n  async atualizaLista(id) {\n    await alunosAula(id.toString()).then(async value => {\n      value.json().then(json => {\n        this.setState({\n          listaClientes: json\n        });\n      });\n    });\n  }\n\n  ativarListaClientes(id) {\n    this.atualizaLista(id);\n    this.setState({\n      boolListaClientes: true\n    });\n  }\n\n  render() {\n    var _this$state$planoAula;\n\n    console.log(this.state.listaClientes);\n    return React.createElement(IonPage, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(IonAlert, {\n      isOpen: this.state.alert.length > 0,\n      onDidDismiss: () => this.setState({\n        alert: \"\"\n      }),\n      header: 'Alerta',\n      message: this.state.alert,\n      buttons: ['OK'],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }), React.createElement(IonPopover, {\n      isOpen: this.state.boolListaClientes === true,\n      onDidDismiss: () => this.setState({\n        boolListaClientes: false\n      }),\n      cssClass: \"popover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(IonGrid, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(IonLabel, {\n      className: \"text-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"responsiveText\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \"Lista de Alunos Inscritos:\")), this.state.listaClientes.map(s => {\n      return React.createElement(IonCard, {\n        key: s,\n        className: \"card-exercicio\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(IonLabel, {\n        className: \"text-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"responsiveText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, s)));\n    }))), React.createElement(IonHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(IonToolbar, {\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(IonTitle, {\n      id: \"page-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, \"Plano de aulas\", React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \"\\xA0\"), React.createElement(IonIcon, {\n      icon: calendarOutline,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    })))), React.createElement(IonContent, {\n      className: \"PageContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(IonGrid, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(IonRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, React.createElement(IonCol, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(IonItem, {\n      className: \"selectDayOfWeek_Item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(IonLabel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, \"Dia da semana:\"), React.createElement(IonSelect, {\n      okText: \"Selecionar\",\n      cancelText: \"Cancelar\",\n      key: \"DiasDaSemana\",\n      value: this.state.diaSelecionado,\n      placeholder: \"Select One\",\n      onIonChange: e => {\n        this.setState({\n          diaSelecionado: e.detail.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, diasDaSemana.map(diaAsString => {\n      return React.createElement(IonSelectOption, {\n        key: diaAsString,\n        value: diaAsString,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, diaAsString);\n    })))))), React.createElement(IonGrid, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, this.state.planoAulasSemanal.size > 0 ? (_this$state$planoAula = this.state.planoAulasSemanal.get(this.state.diaSelecionado)) === null || _this$state$planoAula === void 0 ? void 0 : _this$state$planoAula.map(aulaDoDia => {\n      return React.createElement(IonRow, {\n        key: aulaDoDia.hora + aulaDoDia.instrutor_email,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(IonCard, {\n        key: aulaDoDia.hora,\n        className: \"AulaDia_CardWrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(IonCardHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, React.createElement(IonGrid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, React.createElement(IonRow, {\n        className: \"ion-align-items-end\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, React.createElement(IonCol, {\n        className: \"ion-align-self-start\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, React.createElement(IonCardTitle, {\n        className: \"AulaDia_CardTitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, aulaDoDia.nome, \" | \", aulaDoDia.hora), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }), React.createElement(IonCardSubtitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, \"Dificuldade: \", aulaDoDia.dificuldade), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }), React.createElement(IonItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, React.createElement(IonIcon, {\n        icon: bodyOutline,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }), React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, \"\\xA0\\xA0\"), React.createElement(IonLabel, {\n        className: \"textResponsive\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"textResponsive\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, \"Instrutor: \"), aulaDoDia.instrutor_email))), React.createElement(IonItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, React.createElement(IonIcon, {\n        icon: timerOutline,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }), React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, \"\\xA0\\xA0\"), React.createElement(IonLabel, {\n        className: \"textResponsive\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"textResponsive\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, \"Dura\\xE7\\xE3o: \"), aulaDoDia.duracao))), React.createElement(IonItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, React.createElement(IonIcon, {\n        icon: sendOutline,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }), React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, \"\\xA0\\xA0\"), React.createElement(IonLabel, {\n        className: \"textResponsive\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"textResponsive\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, \"Espa\\xE7o: \"), aulaDoDia.espaco_ginasio))), React.createElement(IonItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, React.createElement(IonIcon, {\n        icon: informationOutline,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }), React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, \"\\xA0\\xA0\"), React.createElement(IonLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"textResponsive\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, \"Lota\\xE7\\xE3o atual: \"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }), aulaDoDia.lotacao_atual, \" inscritos (m\\xE1ximo \", aulaDoDia.lotacao_max, \" alunos)\"))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }), this.state.userType === \"Cliente\" ? aulaDoDia.marcada ? React.createElement(IonButton, {\n        color: \"danger\",\n        onClick: () => this.desmarcarAula(aulaDoDia.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, \"Desmarcar Aula  \", React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }, \"\\xA0\"), React.createElement(IonIcon, {\n        icon: removeOutline,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      })) : React.createElement(IonButton, {\n        color: \"success\",\n        onClick: () => this.marcarAula(aulaDoDia.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, \"Marcar Aula  \", React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, \"\\xA0\"), React.createElement(IonIcon, {\n        icon: addOutline,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      })) : React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      })), React.createElement(IonCol, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }), React.createElement(IonCol, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }), React.createElement(IonCol, {\n        className: \"ion-align-self-end\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, (() => {\n        switch (aulaDoDia.nome) {\n          case 'Cycling':\n            return React.createElement(\"img\", {\n              className: \"aulaImage\",\n              src: CyclingIMG,\n              alt: \"Loading...\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 307\n              },\n              __self: this\n            });\n\n          case 'Pilates':\n            return React.createElement(\"img\", {\n              className: \"aulaImage\",\n              src: PilatesIMG,\n              alt: \"Loading...\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 308\n              },\n              __self: this\n            });\n\n          case 'Cross Training':\n            return React.createElement(\"img\", {\n              className: \"aulaImage\",\n              src: CrossTrainingIMG,\n              alt: \"Loading...\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 309\n              },\n              __self: this\n            });\n\n          case 'Local':\n            return React.createElement(\"img\", {\n              className: \"aulaImage\",\n              src: LocalIMG,\n              alt: \"Loading...\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 310\n              },\n              __self: this\n            });\n\n          case 'Jump':\n            return React.createElement(\"img\", {\n              className: \"aulaImage\",\n              src: JumpIMG,\n              alt: \"Loading...\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 311\n              },\n              __self: this\n            });\n\n          case 'Kickboxing':\n            return React.createElement(\"img\", {\n              className: \"aulaImage\",\n              src: KickboxingIMG,\n              alt: \"Loading...\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 312\n              },\n              __self: this\n            });\n\n          case 'Funcional':\n            return React.createElement(\"img\", {\n              className: \"aulaImage\",\n              src: FuncionalIMG,\n              alt: \"Loading...\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 313\n              },\n              __self: this\n            });\n\n          case 'Salsa':\n            return React.createElement(\"img\", {\n              className: \"aulaImage\",\n              src: SalsaIMG,\n              alt: \"Loading...\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 314\n              },\n              __self: this\n            });\n\n          case 'Yoga':\n            return React.createElement(\"img\", {\n              className: \"aulaImage\",\n              src: YogaIMG,\n              alt: \"Loading...\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 315\n              },\n              __self: this\n            });\n\n          case 'Zumba':\n            return React.createElement(\"img\", {\n              className: \"aulaImage\",\n              src: ZumbaIMG,\n              alt: \"Loading...\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 316\n              },\n              __self: this\n            });\n\n          case 'TRX':\n            return React.createElement(\"img\", {\n              className: \"aulaImage\",\n              src: TrxIMG,\n              alt: \"Loading...\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 317\n              },\n              __self: this\n            });\n\n          case 'Natação':\n            return React.createElement(\"img\", {\n              className: \"aulaImage\",\n              src: NatacaoIMG,\n              alt: \"Loading...\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 318\n              },\n              __self: this\n            });\n        }\n      })()))))));\n    }) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, \"A carregar plano semanal de aulas...\"))));\n  }\n\n}\n\nexport default ConsultarAulasGrupo;","map":{"version":3,"sources":["/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/src/pages/ConsultarAulasGrupo.tsx"],"names":["IonAlert","IonButton","IonCard","IonCardHeader","IonCardSubtitle","IonCardTitle","IonCol","IonContent","IonGrid","IonHeader","IonIcon","IonItem","IonLabel","IonPage","IonPopover","IonRow","IonSelect","IonSelectOption","IonTitle","IonToolbar","addOutline","bodyOutline","calendarOutline","informationOutline","removeOutline","sendOutline","timerOutline","React","alunosAula","desmarcarAula","getPlanoSemanalAulas","marcarAula","diasDaSemana","CyclingIMG","require","PilatesIMG","CrossTrainingIMG","FuncionalIMG","JumpIMG","KickboxingIMG","SalsaIMG","YogaIMG","LocalIMG","TrxIMG","ZumbaIMG","NatacaoIMG","ConsultarAulasGrupo","Component","constructor","props","state","timerID","planoAulasSemanal","Map","diaSelecionado","userType","user","tipoDeUser","userEmail","email","alert","boolListaClientes","listaClientes","componentDidMount","update","setInterval","day","Date","getDay","ususalSearchDay","notUsual","Set","has","setState","componentWillUnmount","clearInterval","res","json","planoAulasSemanalTest","then","data","resultObj","JSON","parse","console","log","i","length","diaString","diaAulas","set","id","status","atualizaLista","toString","value","ativarListaClientes","render","map","s","e","detail","diaAsString","size","get","aulaDoDia","hora","instrutor_email","nome","dificuldade","duracao","espaco_ginasio","lotacao_atual","lotacao_max","marcada"],"mappings":";AACA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,OAA9B,EAAuCC,aAAvC,EAAsDC,eAAtD,EAAuEC,YAAvE,EAAqFC,MAArF,EAA6FC,UAA7F,EAAyGC,OAAzG,EAAkHC,SAAlH,EAA6HC,OAA7H,EAAsIC,OAAtI,EAA+IC,QAA/I,EAAyJC,OAAzJ,EAAkKC,UAAlK,EAA8KC,MAA9K,EAAsLC,SAAtL,EAAiMC,eAAjM,EAAkNC,QAAlN,EAA4NC,UAA5N,QAA8O,cAA9O;AACA,SAASC,UAAT,EAAqBC,WAArB,EAAkCC,eAAlC,EAAmDC,kBAAnD,EAAuEC,aAAvE,EAAsFC,WAAtF,EAAmGC,YAAnG,QAAuH,gBAAvH;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,aAArB,EAAoCC,oBAApC,EAA0DC,UAA1D,QAA4E,4BAA5E;AACA,OAAO,+BAAP,C,CAIA;;AAgBA,IAAIC,YAAsB,GAAG,CAAC,SAAD,EAAY,OAAZ,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,OAAzC,EAAkD,QAAlD,EAA4D,SAA5D,CAA7B;;AAEA,IAAIC,UAAU,GAAGC,OAAO,CAAC,2BAAD,CAAxB;;AACA,IAAIC,UAAU,GAAGD,OAAO,CAAC,2BAAD,CAAxB;;AACA,IAAIE,gBAAgB,GAAGF,OAAO,CAAC,kCAAD,CAA9B;;AACA,IAAIG,YAAY,GAAGH,OAAO,CAAC,6BAAD,CAA1B;;AACA,IAAII,OAAO,GAAGJ,OAAO,CAAC,wBAAD,CAArB;;AACA,IAAIK,aAAa,GAAGL,OAAO,CAAC,8BAAD,CAA3B;;AACA,IAAIM,QAAQ,GAAGN,OAAO,CAAC,yBAAD,CAAtB;;AACA,IAAIO,OAAO,GAAGP,OAAO,CAAC,wBAAD,CAArB;;AACA,IAAIQ,QAAQ,GAAGR,OAAO,CAAC,yBAAD,CAAtB;;AACA,IAAIS,MAAM,GAAGT,OAAO,CAAC,uBAAD,CAApB;;AACA,IAAIU,QAAQ,GAAGV,OAAO,CAAC,yBAAD,CAAtB;;AACA,IAAIW,UAAU,GAAGX,OAAO,CAAC,2BAAD,CAAxB,C,CAEA;;;AAEA,MAAMY,mBAAN,SAAkCnB,KAAK,CAACoB,SAAxC,CAAuD;AAcnDC,EAAAA,WAAW,CAACC,KAAD,EAAa;AACpB,UAAMA,KAAN;AADoB,SAZxBC,KAYwB;AAAA,SAFxBC,OAEwB;AAEpB,SAAKA,OAAL,GAAe,IAAf;AACA,SAAKD,KAAL,GAAa;AACTE,MAAAA,iBAAiB,EAAE,IAAIC,GAAJ,EADV;AAETC,MAAAA,cAAc,EAAE,EAFP;AAGTC,MAAAA,QAAQ,EAAG,KAAKN,KAAL,CAAWO,IAAX,CAAgBC,UAHlB;AAITC,MAAAA,SAAS,EAAG,KAAKT,KAAL,CAAWO,IAAX,CAAgBG,KAJnB;AAKTC,MAAAA,KAAK,EAAG,EALC;AAMTC,MAAAA,iBAAiB,EAAE,KANV;AAOTC,MAAAA,aAAa,EAAE;AAPN,KAAb;AASH;;AAED,QAAMC,iBAAN,GAA0B;AACtB,SAAKC,MAAL;AACA,SAAKb,OAAL,GAAec,WAAW,CAAE,MAAM,KAAKD,MAAL,EAAR,EAAwB,IAAxB,CAA1B;AACA,QAAIE,GAAG,GAAI,IAAIC,IAAJ,EAAD,CAAaC,MAAb,KAAwB,CAAlC;AACI,QAAIC,eAAe,GAAGrC,YAAY,CAAE,IAAImC,IAAJ,EAAD,CAAaC,MAAb,KAAwB,CAAzB,CAAlC;AACA,QAAIE,QAAqB,GAAG,IAAIC,GAAJ,CAAQ,CAAC,QAAD,EAAW,SAAX,CAAR,CAA5B;;AACA,QAAID,QAAQ,CAACE,GAAT,CAAaH,eAAb,KAAiCH,GAAG,KAAK,CAAC,CAA9C,EAAiD;AAC7CG,MAAAA,eAAe,GAAG,SAAlB;AACH;;AAED,SAAKI,QAAL,CAAc;AACVnB,MAAAA,cAAc,EAAEe;AADN,KAAd;AAIP;;AACDK,EAAAA,oBAAoB,GAAG;AACnBC,IAAAA,aAAa,CAAC,KAAKxB,OAAN,CAAb;AACD;;AAGH,QAAMa,MAAN,GAAc;AACV,UAAMY,GAAG,GAAG,MAAM9C,oBAAoB,CAAC,KAAKoB,KAAL,CAAWQ,SAAZ,CAAtC;AAEA,UAAMmB,IAAI,GAAGD,GAAG,CAACC,IAAJ,EAAb;AAEA,QAAIC,qBAA+C,GAAG,IAAIzB,GAAJ,EAAtD;AAEAwB,IAAAA,IAAI,CAACE,IAAL,CAAWC,IAAD,IAAU;AAEhB,UAAIC,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWH,IAAX,CAAhB;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAYJ,SAAZ;;AAEA,WAAK,IAAIK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGtD,YAAY,CAACuD,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAE1C,YAAIE,SAAS,GAAGxD,YAAY,CAACsD,CAAD,CAA5B;AACA,YAAIG,QAAqB,GAAGR,SAAS,CAACO,SAAD,CAArC;AAEAV,QAAAA,qBAAqB,CAACY,GAAtB,CAA0BF,SAA1B,EAAqCC,QAArC;AACH;;AAKD,WAAKhB,QAAL,CAAc;AACVrB,QAAAA,iBAAiB,EAAE0B;AADT,OAAd;AAGH,KAnBD;AAqBH;;AAGF,QAAMjD,aAAN,CAAoB8D,EAApB,EAAgC;AAC5B,UAAM9D,aAAa,CAAC8D,EAAD,CAAnB;AACA,SAAK3B,MAAL;AACF;;AACF,QAAMjC,UAAN,CAAiB4D,EAAjB,EAA6B;AACvB,UAAM5D,UAAU,CAAC4D,EAAD,CAAV,CAAeZ,IAAf,CACFC,IAAD,IAAe;AACXI,MAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AACA,UAAIA,IAAI,CAACY,MAAL,KAAc,GAAlB,EAAuB,KAAKnB,QAAL,CAAc;AAACb,QAAAA,KAAK,EAAG;AAAT,OAAd,EAAvB,KACK,KAAKa,QAAL,CAAc;AAACb,QAAAA,KAAK,EAAG;AAAT,OAAd;AACL,WAAKI,MAAL;AACH,KANE,CAAN;AAUJ;;AAED,QAAM6B,aAAN,CAAoBF,EAApB,EAA4B;AAExB,UAAM/D,UAAU,CAAC+D,EAAE,CAACG,QAAH,EAAD,CAAV,CAA0Bf,IAA1B,CACF,MAAOgB,KAAP,IAAgB;AACZA,MAAAA,KAAK,CAAClB,IAAN,GAAaE,IAAb,CACKF,IAAD,IAAQ;AACJ,aAAKJ,QAAL,CAAc;AAACX,UAAAA,aAAa,EAAEe;AAAhB,SAAd;AACH,OAHL;AAIF,KANA,CAAN;AAQH;;AAGDmB,EAAAA,mBAAmB,CAACL,EAAD,EAAS;AAExB,SAAKE,aAAL,CAAmBF,EAAnB;AAEA,SAAKlB,QAAL,CAAc;AAACZ,MAAAA,iBAAiB,EAAG;AAArB,KAAd;AAEH;;AAEDoC,EAAAA,MAAM,GAAG;AAAA;;AAELb,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKnC,KAAL,CAAWY,aAAvB;AAEA,WAEI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGZ,oBAAC,QAAD;AACU,MAAA,MAAM,EAAE,KAAKZ,KAAL,CAAWU,KAAX,CAAiB2B,MAAjB,GAAwB,CAD1C;AAEU,MAAA,YAAY,EAAE,MAAM,KAAKd,QAAL,CAAc;AAACb,QAAAA,KAAK,EAAG;AAAT,OAAd,CAF9B;AAGU,MAAA,MAAM,EAAE,QAHlB;AAIU,MAAA,OAAO,EAAE,KAAKV,KAAL,CAAWU,KAJ9B;AAKU,MAAA,OAAO,EAAE,CAAC,IAAD,CALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHY,EAWZ,oBAAC,UAAD;AAAY,MAAA,MAAM,EAAE,KAAKV,KAAL,CAAWW,iBAAX,KAAiC,IAArD;AACY,MAAA,YAAY,EAAE,MAAM,KAAKY,QAAL,CAAc;AAACZ,QAAAA,iBAAiB,EAAG;AAArB,OAAd,CADhC;AAEY,MAAA,QAAQ,EAAC,SAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKY,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEA,oBAAC,QAAD;AAAU,MAAA,SAAS,EAAC,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiC;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAAjC,CAFA,EAKC,KAAKX,KAAL,CAAWY,aAAX,CAAyBoC,GAAzB,CAA8BC,CAAD,IAAK;AAE/B,aAAO,oBAAC,OAAD;AAAS,QAAA,GAAG,EAAEA,CAAd;AAAiB,QAAA,SAAS,EAAC,gBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,QAAD;AAAU,QAAA,SAAS,EAAC,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAiC;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAiCA,CAAjC,CAAjC,CADD,CAAP;AAIH,KANA,CALD,CALZ,CAXY,EAkCI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,UAAD;AAAY,MAAA,KAAK,EAAC,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADd,EAEA,oBAAC,OAAD;AAAS,MAAA,IAAI,EAAE7E,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,CADJ,CADA,CAlCJ,EA2CI,oBAAC,UAAD;AAAY,MAAA,SAAS,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,sBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEI,oBAAC,SAAD;AAAW,MAAA,MAAM,EAAC,YAAlB;AAA+B,MAAA,UAAU,EAAC,UAA1C;AAAqD,MAAA,GAAG,EAAE,cAA1D;AAA0E,MAAA,KAAK,EAAE,KAAK4B,KAAL,CAAWI,cAA5F;AAA4G,MAAA,WAAW,EAAC,YAAxH;AACQ,MAAA,WAAW,EAAG8C,CAAD,IAAO;AAAE,aAAK3B,QAAL,CAAc;AAAEnB,UAAAA,cAAc,EAAG8C,CAAC,CAACC,MAAF,CAASN;AAA5B,SAAd;AAAoD,OADlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGQ/D,YAAY,CAACkE,GAAb,CACII,WAAW,IAAI;AACX,aAAO,oBAAC,eAAD;AAAiB,QAAA,GAAG,EAAEA,WAAtB;AAAmC,QAAA,KAAK,EAAEA,WAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAwDA,WAAxD,CAAP;AACH,KAHL,CAHR,CAFJ,CADJ,CAFJ,CAFJ,CAFJ,EA0BQ,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAKpD,KAAL,CAAWE,iBAAX,CAA6BmD,IAA7B,GAAoC,CAApC,4BACE,KAAKrD,KAAL,CAAWE,iBAAX,CAA6BoD,GAA7B,CAAiC,KAAKtD,KAAL,CAAWI,cAA5C,CADF,0DACE,sBAA6D4C,GAA7D,CACIO,SAAS,IAAI;AACT,aACA,oBAAC,MAAD;AAAQ,QAAA,GAAG,EAAEA,SAAS,CAACC,IAAV,GAAiBD,SAAS,CAACE,eAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI,oBAAC,OAAD;AAAS,QAAA,GAAG,EAAEF,SAAS,CAACC,IAAxB;AAA8B,QAAA,SAAS,EAAC,qBAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEA,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,qBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,sBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI,oBAAC,YAAD;AAAc,QAAA,SAAS,EAAC,mBAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA6CD,SAAS,CAACG,IAAvD,SAAgEH,SAAS,CAACC,IAA1E,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,EAII,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAA+BD,SAAS,CAACI,WAAzC,CAJJ,EAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANJ,EAQI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,OAAD;AAAS,QAAA,IAAI,EAAExF,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,EAGI,oBAAC,QAAD;AAAU,QAAA,SAAS,EAAC,gBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAqC;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAhC,EAAmDoF,SAAS,CAACE,eAA7D,CAArC,CAHJ,CARJ,EAcI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,OAAD;AAAS,QAAA,IAAI,EAAEjF,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,EAGI,oBAAC,QAAD;AAAU,QAAA,SAAS,EAAC,gBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAqC;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAhC,EAAiD+E,SAAS,CAACK,OAA3D,CAArC,CAHJ,CAdJ,EAoBI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,OAAD;AAAS,QAAA,IAAI,EAAErF,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,EAGI,oBAAC,QAAD;AAAU,QAAA,SAAS,EAAC,gBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAqC;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAhC,EAAgDgF,SAAS,CAACM,cAA1D,CAArC,CAHJ,CApBJ,EA0BI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,OAAD;AAAS,QAAA,IAAI,EAAExF,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,EAGI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAU;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAAhC,EAAsD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAtD,EAA+D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA/D,EAAyEkF,SAAS,CAACO,aAAnF,4BAAqHP,SAAS,CAACQ,WAA/H,aAAV,CAHJ,CA1BJ,EAiCI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAjCJ,EAkCM,KAAK/D,KAAL,CAAWK,QAAX,KAAsB,SAAtB,GACAkD,SAAS,CAACS,OAAV,GACE,oBAAC,SAAD;AAAW,QAAA,KAAK,EAAC,QAAjB;AAA0B,QAAA,OAAO,EAAI,MAAI,KAAKrF,aAAL,CAAmB4E,SAAS,CAACd,EAA7B,CAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BACoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADpB,EAEI,oBAAC,OAAD;AAAS,QAAA,IAAI,EAAEnE,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADF,GAME,oBAAC,SAAD;AAAW,QAAA,KAAK,EAAC,SAAjB;AAA2B,QAAA,OAAO,EAAI,MAAI,KAAKO,UAAL,CAAgB0E,SAAS,CAACd,EAA1B,CAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BACiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADjB,EAEI,oBAAC,OAAD;AAAS,QAAA,IAAI,EAAEvE,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CAPF,GAaF,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA/CJ,CAFJ,EAqDI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QArDJ,EAqDqB,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QArDrB,EAuDI,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,oBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,CAAC,MAAM;AACJ,gBAAOqF,SAAS,CAACG,IAAjB;AAEI,eAAK,SAAL;AAAgB,mBAAO;AAAK,cAAA,SAAS,EAAC,WAAf;AAA2B,cAAA,GAAG,EAAE3E,UAAhC;AAA4C,cAAA,GAAG,EAAC,YAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;;AAChB,eAAK,SAAL;AAAgB,mBAAO;AAAK,cAAA,SAAS,EAAC,WAAf;AAA2B,cAAA,GAAG,EAAEE,UAAhC;AAA4C,cAAA,GAAG,EAAC,YAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;;AAChB,eAAK,gBAAL;AAAuB,mBAAO;AAAK,cAAA,SAAS,EAAC,WAAf;AAA2B,cAAA,GAAG,EAAEC,gBAAhC;AAAkD,cAAA,GAAG,EAAC,YAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;;AACvB,eAAK,OAAL;AAAc,mBAAO;AAAK,cAAA,SAAS,EAAC,WAAf;AAA2B,cAAA,GAAG,EAAEM,QAAhC;AAA0C,cAAA,GAAG,EAAC,YAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;;AACd,eAAK,MAAL;AAAa,mBAAO;AAAK,cAAA,SAAS,EAAC,WAAf;AAA2B,cAAA,GAAG,EAAEJ,OAAhC;AAAyC,cAAA,GAAG,EAAC,YAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;;AACb,eAAK,YAAL;AAAmB,mBAAO;AAAK,cAAA,SAAS,EAAC,WAAf;AAA2B,cAAA,GAAG,EAAEC,aAAhC;AAA+C,cAAA,GAAG,EAAC,YAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;;AACnB,eAAK,WAAL;AAAkB,mBAAO;AAAK,cAAA,SAAS,EAAC,WAAf;AAA2B,cAAA,GAAG,EAAEF,YAAhC;AAA8C,cAAA,GAAG,EAAC,YAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;;AAClB,eAAK,OAAL;AAAc,mBAAO;AAAK,cAAA,SAAS,EAAC,WAAf;AAA2B,cAAA,GAAG,EAAEG,QAAhC;AAA0C,cAAA,GAAG,EAAC,YAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;;AACd,eAAK,MAAL;AAAa,mBAAO;AAAK,cAAA,SAAS,EAAC,WAAf;AAA2B,cAAA,GAAG,EAAEC,OAAhC;AAAyC,cAAA,GAAG,EAAC,YAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;;AACb,eAAK,OAAL;AAAc,mBAAO;AAAK,cAAA,SAAS,EAAC,WAAf;AAA2B,cAAA,GAAG,EAAEG,QAAhC;AAA0C,cAAA,GAAG,EAAC,YAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;;AACd,eAAK,KAAL;AAAY,mBAAO;AAAK,cAAA,SAAS,EAAC,WAAf;AAA2B,cAAA,GAAG,EAAED,MAAhC;AAAwC,cAAA,GAAG,EAAC,YAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;;AACZ,eAAK,SAAL;AAAgB,mBAAO;AAAK,cAAA,SAAS,EAAC,WAAf;AAA2B,cAAA,GAAG,EAAEE,UAAhC;AAA4C,cAAA,GAAG,EAAC,YAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AAbpB;AAgBH,OAjBA,GADD,CAvDJ,CAFJ,CAFA,CAFJ,CAFJ,CADA;AA+FH,KAjGL,CADF,GAmGO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CApGT,CA1BR,CA3CJ,CAFJ;AAqLH;;AA9SkD;;AAkTvD,eAAeC,mBAAf","sourcesContent":["\nimport { IonAlert, IonButton, IonCard, IonCardHeader, IonCardSubtitle, IonCardTitle, IonCol, IonContent, IonGrid, IonHeader, IonIcon, IonItem, IonLabel, IonPage, IonPopover, IonRow, IonSelect, IonSelectOption, IonTitle, IonToolbar } from \"@ionic/react\";\nimport { addOutline, bodyOutline, calendarOutline, informationOutline, removeOutline, sendOutline, timerOutline } from \"ionicons/icons\";\nimport React from \"react\";\nimport { alunosAula, desmarcarAula, getPlanoSemanalAulas, marcarAula } from \"../models/API/AulaGrupoAPI\";\nimport \"./css/ConsultarAulasGrupo.css\";\n\n\n\n//---------------------------------------------------------------------------------------------------------------------------------\n\ninterface AulaGrupo {\n    id : number,\n    marcada : boolean,\n    hora: string,\n    dia: string,\n    nome: string,\n    lotacao_atual: number,\n    lotacao_max: number,\n    duracao: string,\n    dificuldade: string,\n    instrutor_email: string,\n    espaco_ginasio: string\n}\n\nvar diasDaSemana: string[] = [\"Segunda\", \"Terca\", \"Quarta\", \"Quinta\", \"Sexta\", \"Sábado\", \"Domingo\"];\n\nvar CyclingIMG = require('../imgs/aulas/cycling.png');\nvar PilatesIMG = require('../imgs/aulas/pilates.png');\nvar CrossTrainingIMG = require('../imgs/aulas/cross-training.png');\nvar FuncionalIMG = require('../imgs/aulas/funcional.png');\nvar JumpIMG = require('../imgs/aulas/jump.png');\nvar KickboxingIMG = require('../imgs/aulas/kickboxing.png');\nvar SalsaIMG = require('../imgs/aulas/salsa.png');\nvar YogaIMG = require('../imgs/aulas/Yoga.png');\nvar LocalIMG = require('../imgs/aulas/local.png');\nvar TrxIMG = require('../imgs/aulas/trx.png');\nvar ZumbaIMG = require('../imgs/aulas/zumba.png');\nvar NatacaoIMG = require('../imgs/aulas/natacao.png');\n\n//---------------------------------------------------------------------------------------------------------------------------------\n\nclass ConsultarAulasGrupo extends React.Component<any> {\n\n    state: {\n        planoAulasSemanal: Map<string, AulaGrupo[]>, //Map<DAY_OF_WEEK, AULAS>\n        diaSelecionado: string\n        userType : string\n        userEmail : string\n        alert : string\n        boolListaClientes : boolean\n        listaClientes: string[]\n\n    }\n    timerID: any;\n\n    constructor(props: any) {\n        super(props);\n        this.timerID = null;\n        this.state = {\n            planoAulasSemanal: new Map(),\n            diaSelecionado: \"\",\n            userType : this.props.user.tipoDeUser,\n            userEmail : this.props.user.email,\n            alert : \"\",\n            boolListaClientes: false,\n            listaClientes: []\n        }\n    }\n\n    async componentDidMount() {\n        this.update();\n        this.timerID = setInterval( () => this.update() , 5000);\n        var day = (new Date()).getDay() - 1;\n            var ususalSearchDay = diasDaSemana[(new Date()).getDay() - 1];\n            var notUsual: Set<String> = new Set([\"Sábado\", \"Domingo\"]);\n            if (notUsual.has(ususalSearchDay) || day === -1) {\n                ususalSearchDay = \"Segunda\";\n            }\n\n            this.setState({\n                diaSelecionado: ususalSearchDay\n            });\n\n    }\n    componentWillUnmount() {\n        clearInterval(this.timerID);\n      }\n\n\n    async update(){\n        const res = await getPlanoSemanalAulas(this.state.userEmail);\n\n        const json = res.json();\n\n        var planoAulasSemanalTest: Map<string, AulaGrupo[]> = new Map();\n\n        json.then((data) => {\n\n            var resultObj = JSON.parse(data);\n            console.log(resultObj);\n                       \n            for (var i = 0; i < diasDaSemana.length; i++) {\n\n                let diaString = diasDaSemana[i];\n                var diaAulas: AulaGrupo[] = resultObj[diaString];\n                \n                planoAulasSemanalTest.set(diaString, diaAulas);\n            }\n\n\n\n\n            this.setState({\n                planoAulasSemanal: planoAulasSemanalTest\n            });\n        });\n\n    }\n\n\n   async desmarcarAula(id: number) {\n       await desmarcarAula(id);\n       this.update();     \n    }\n   async marcarAula(id: number) {\n         await marcarAula(id).then(\n            (data : any)=> {\n                console.log(data);\n                if (data.status===200) this.setState({alert : \"Aula marcada com sucesso!\"});\n                else this.setState({alert : \"Aula não marcada com sucesso!\"})\n                this.update();\n            }\n        );\n        \n\n    }\n\n    async atualizaLista(id: any){\n\n        await alunosAula(id.toString()).then(\n            async (value) =>{\n                value.json().then(\n                    (json)=>{\n                        this.setState({listaClientes: json})\n                    }\n            )}\n        );\n    }\n\n\n    ativarListaClientes(id: any){\n\n        this.atualizaLista(id)\n\n        this.setState({boolListaClientes : true})\n\n    }\n\n    render() {\n\n        console.log(this.state.listaClientes)\n\n        return(\n\n            <IonPage>\n\n\n<IonAlert\n          isOpen={this.state.alert.length>0}\n          onDidDismiss={() => this.setState({alert : \"\"})}\n          header={'Alerta'}\n          message={this.state.alert}\n          buttons={['OK']}\n        />\n\n<IonPopover isOpen={this.state.boolListaClientes === true} \n            onDidDismiss={() => this.setState({boolListaClientes : false})}\n            cssClass='popover'\n            >\n\n            <IonGrid>\n\n            <IonLabel className=\"text-title\"><div className=\"responsiveText\">Lista de Alunos Inscritos:</div></IonLabel>\n            \n\n            {this.state.listaClientes.map((s)=>{\n\n                return <IonCard key={s} className=\"card-exercicio\">\n                        <IonLabel className=\"text-title\"><div className=\"responsiveText\">{s}</div></IonLabel>\n\n                        </IonCard>\n            })}\n\n\n            </IonGrid>\n\n</IonPopover>\n          \n                <IonHeader>\n                <IonToolbar color=\"primary\">\n                    <IonTitle id=\"page-title\">\n                    Plano de aulas<b>&nbsp;</b>\n                    <IonIcon icon={calendarOutline}></IonIcon>    \n                    </IonTitle>\n                </IonToolbar>\n                </IonHeader>\n    \n                <IonContent className=\"PageContent\">\n\n                    <IonGrid>\n\n                        <IonRow>\n\n                            <IonCol>\n                                <IonItem className=\"selectDayOfWeek_Item\">\n                                    <IonLabel>Dia da semana:</IonLabel>\n                                    <IonSelect okText=\"Selecionar\" cancelText=\"Cancelar\" key={\"DiasDaSemana\"} value={this.state.diaSelecionado} placeholder=\"Select One\" \n                                            onIonChange={(e) => { this.setState({ diaSelecionado: (e.detail.value)}) }}>\n                                        {\n                                            diasDaSemana.map(\n                                                diaAsString => {\n                                                    return <IonSelectOption key={diaAsString} value={diaAsString}>{diaAsString}</IonSelectOption>\n                                                }\n                                            )\n                                        }\n                                    </IonSelect>\n                                </IonItem>\n                            </IonCol>\n\n                        </IonRow>\n\n                    </IonGrid>\n\n                        <IonGrid>\n                        { this.state.planoAulasSemanal.size > 0 ? ( \n                            this.state.planoAulasSemanal.get(this.state.diaSelecionado)?.map(\n                                aulaDoDia => {\n                                    return (\n                                    <IonRow key={aulaDoDia.hora + aulaDoDia.instrutor_email}>\n\n                                        <IonCard key={aulaDoDia.hora} className=\"AulaDia_CardWrapper\">\n                                                    \n                                            <IonCardHeader>\n\n                                            <IonGrid>\n\n                                                <IonRow className=\"ion-align-items-end\">\n\n                                                    <IonCol className=\"ion-align-self-start\">                                                    \n                                                        \n                                                        <IonCardTitle className=\"AulaDia_CardTitle\">{aulaDoDia.nome} | {aulaDoDia.hora}</IonCardTitle>\n                                                        <br></br>\n                                                        <IonCardSubtitle>Dificuldade: {aulaDoDia.dificuldade}</IonCardSubtitle>\n                                                        \n                                                        <br></br>\n\n                                                        <IonItem>\n                                                            <IonIcon icon={bodyOutline}></IonIcon>\n                                                            <b>&nbsp;&nbsp;</b>\n                                                            <IonLabel className=\"textResponsive\"><div className=\"textResponsive\"><b>Instrutor: </b>{aulaDoDia.instrutor_email}</div></IonLabel>\n                                                        </IonItem>\n\n                                                        <IonItem>\n                                                            <IonIcon icon={timerOutline}></IonIcon>\n                                                            <b>&nbsp;&nbsp;</b>\n                                                            <IonLabel className=\"textResponsive\"><div className=\"textResponsive\"><b>Duração: </b>{aulaDoDia.duracao}</div></IonLabel>\n                                                        </IonItem>\n\n                                                        <IonItem>\n                                                            <IonIcon icon={sendOutline}></IonIcon>\n                                                            <b>&nbsp;&nbsp;</b>\n                                                            <IonLabel className=\"textResponsive\"><div className=\"textResponsive\"><b>Espaço: </b>{aulaDoDia.espaco_ginasio}</div></IonLabel>\n                                                        </IonItem>\n\n                                                        <IonItem>\n                                                            <IonIcon icon={informationOutline}></IonIcon>\n                                                            <b>&nbsp;&nbsp;</b>\n                                                            <IonLabel><div className=\"textResponsive\"><b>Lotação atual: </b><br></br><br></br>{aulaDoDia.lotacao_atual} inscritos (máximo {aulaDoDia.lotacao_max} alunos)</div></IonLabel>\n                                                            \n                                                        </IonItem>\n                                                        \n                                                        <br></br>\n                                                        { this.state.userType===\"Cliente\"?\n                                                         (aulaDoDia.marcada?                                        \n                                                            <IonButton color=\"danger\" onClick = {()=>this.desmarcarAula(aulaDoDia.id)}>\n                                                                Desmarcar Aula  <b>&nbsp;</b>\n                                                                <IonIcon icon={removeOutline}></IonIcon> \n                                                            </IonButton>\n                                                        :\n                                                            <IonButton color=\"success\" onClick = {()=>this.marcarAula(aulaDoDia.id)}> \n                                                                Marcar Aula  <b>&nbsp;</b>\n                                                                <IonIcon icon={addOutline}></IonIcon>\n                                                            </IonButton>\n                                                        ) \n                                                        :\n                                                        <React.Fragment></React.Fragment>\n                                                        }\n                                                    </IonCol>\n                                                    \n                                                    <IonCol></IonCol><IonCol></IonCol>\n                                                    \n                                                    <IonCol className=\"ion-align-self-end\">\n                                                    {(() => {\n                                                        switch(aulaDoDia.nome) {\n\n                                                            case 'Cycling': return <img className=\"aulaImage\" src={CyclingIMG} alt=\"Loading...\"/>;\n                                                            case 'Pilates': return <img className=\"aulaImage\" src={PilatesIMG} alt=\"Loading...\"/>;\n                                                            case 'Cross Training': return <img className=\"aulaImage\" src={CrossTrainingIMG} alt=\"Loading...\"/>;\n                                                            case 'Local': return <img className=\"aulaImage\" src={LocalIMG} alt=\"Loading...\"/>;\n                                                            case 'Jump': return <img className=\"aulaImage\" src={JumpIMG} alt=\"Loading...\"/>;\n                                                            case 'Kickboxing': return <img className=\"aulaImage\" src={KickboxingIMG} alt=\"Loading...\"/>;\n                                                            case 'Funcional': return <img className=\"aulaImage\" src={FuncionalIMG} alt=\"Loading...\"/>;\n                                                            case 'Salsa': return <img className=\"aulaImage\" src={SalsaIMG} alt=\"Loading...\"/>;\n                                                            case 'Yoga': return <img className=\"aulaImage\" src={YogaIMG} alt=\"Loading...\"/>;\n                                                            case 'Zumba': return <img className=\"aulaImage\" src={ZumbaIMG} alt=\"Loading...\"/>;\n                                                            case 'TRX': return <img className=\"aulaImage\" src={TrxIMG} alt=\"Loading...\"/>;\n                                                            case 'Natação': return <img className=\"aulaImage\" src={NatacaoIMG} alt=\"Loading...\"/>;\n                                                        \n                                                        }\n                                                    })()}\n                                                    </IonCol>\n\n                                                </IonRow>\n\n                                            </IonGrid>\n\n                                            </IonCardHeader>\n\n                                        </IonCard>\n\n                                    </IonRow>\n                                    );\n                                }\n                            )) : <div>A carregar plano semanal de aulas...</div>\n                        }\n                        </IonGrid>\n\n\n\n                </IonContent>\n    \n            </IonPage>    \n        );\n    }\n\n}\n\nexport default ConsultarAulasGrupo;"]},"metadata":{},"sourceType":"module"}