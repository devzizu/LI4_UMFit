{"ast":null,"code":"import _regeneratorRuntime from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/inherits\";import{IonButton,IonContent,IonHeader,IonIcon,IonItem,IonLabel,IonList,IonPage,IonSearchbar,IonTitle,IonToolbar}from\"@ionic/react\";import{atCircle,closeCircleSharp,home,informationCircle,person}from'ionicons/icons';import React from\"react\";import{getAllUsers,removeUser as _removeUser,selectUser as _selectUser}from\"../../models/API/UserAPI\";import\"../css/RemoveUser.css\";//const testing = true;\nvar noSelection={index:-1,name:\"string\",email:\"string\",cat:\"string\",localidade:\"string\"};var RemoveUser=/*#__PURE__*/function(_React$Component){_inherits(RemoveUser,_React$Component);function RemoveUser(props){var _this;_classCallCheck(this,RemoveUser);_this=_possibleConstructorReturn(this,_getPrototypeOf(RemoveUser).call(this,props));_this.state=void 0;_this.state={query:\"\",lista_inicial:[],render_next:[],show_next:noSelection};return _this;}_createClass(RemoveUser,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var init;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:init=[\"Email1\",\"email2\",\"oogle.1\",\"gloogloog.2\",\"net.net\",\"yeet@3\",\"3.@yeet\"];_context2.next=3;return getAllUsers().then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(value){var json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(value.status===200)){_context.next=6;break;}json=value.json();_context.next=4;return json.then(function(value){console.log(value);init=value.users;});case 4:_context.next=7;break;case 6:alert(\"REQUEST ERROR \"+value.status);case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}()).catch(function(error){alert(\"Server is currently down... \\n\\n\".concat(\"Error details: \\n\\n\\t\").concat(error));});case 3:init.splice(init.indexOf(this.props.email),1);this.setState({lista_inicial:init,render_next:init});case 5:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"selectUser\",value:function selectUser(index){var _this2=this;var selection={name:\"\",email:\"\",cat:\"\",localidade:\"\",index:index};//var apiCall:UserBasicInfo = {name:\"ByeBye\", email:\"net.net\", cat:\"Bot\", localidade:\"LocalHost\"} ;\nif(index===this.state.show_next.index)selection=noSelection;else{var res=_selectUser(this.state.render_next[index]);res.then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(value){var json;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(value.status===200)){_context3.next=6;break;}json=value.json();_context3.next=4;return json.then(function(value){var resValue=JSON.parse(value);console.log(resValue.user);selection={name:resValue.user.name,email:resValue.user.email,cat:resValue.user.cat,localidade:resValue.user.localidade,index:index};_this2.setState({show_next:selection});console.log(\"USer Selected\");});case 4:_context3.next=7;break;case 6:alert(\"REQUEST ERROR \"+value.status);case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref2.apply(this,arguments);};}()).catch(function(error){alert(\"Server is currently down... \\n\\n\".concat(\"Error details: \\n\\n\\t\").concat(error));});}this.setState({show_next:selection});console.log(\"END\");}},{key:\"removeUser\",value:function removeUser(email){var res=_removeUser(email,this.state.show_next.cat[0]);res.then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(value){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(value.status===200){alert(\"Utilizador Removido!\");}else{alert(\"REQUEST ERROR \"+value.status);}case 1:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x3){return _ref3.apply(this,arguments);};}()).catch(function(error){alert(\"Server is currently down... \\n\\n\".concat(\"Error details: \\n\\n\\t\").concat(error));});var clearSelect=noSelection;var renderBefore=this.state.lista_inicial;renderBefore.splice(renderBefore.indexOf(email),1);this.setState({show_next:clearSelect,lista_inicial:renderBefore});this.setQuery(this.state.query);}},{key:\"setQuery\",value:function setQuery(stringSearch){var resultado=this.state.lista_inicial.filter(function(value){return value.toLowerCase().indexOf(stringSearch.toLowerCase())>=0;});this.setState({query:stringSearch,render_next:resultado,show_next:noSelection});}},{key:\"render\",value:function render(){var _this3=this;var selected=this.state.show_next;var renderList=this.state.render_next;return React.createElement(IonPage,null,React.createElement(IonHeader,null,React.createElement(IonToolbar,{color:\"primary\"},React.createElement(IonTitle,{id:\"page-title\"},React.createElement(IonIcon,{className:\"icon\",icon:closeCircleSharp}),\"Remover um Utilizador\"))),React.createElement(IonToolbar,null,React.createElement(IonSearchbar,{value:this.state.query,onIonChange:function onIonChange(e){return _this3.setQuery(e.detail.value);},placeholder:\"Email do utilizador...\"})),React.createElement(IonContent,{className:\"PageContent\"},React.createElement(IonList,null,renderList.map(function(element,index){return React.createElement(IonItem,{key:element,className:\"item\",button:true,onClick:function onClick(){return _this3.selectUser(index);}},selected.index===index?React.createElement(React.Fragment,null,React.createElement(IonList,{lines:\"none\",className:\"inheritBackground\"},React.createElement(IonItem,{className:\"inheritBackground\"},React.createElement(IonIcon,{className:\"icon\",icon:atCircle}),React.createElement(IonLabel,{color:\"primary\"},element)),React.createElement(IonItem,{className:\"inheritBackground\"},React.createElement(IonIcon,{icon:person,className:\"icon\"}),React.createElement(IonLabel,{color:\"primary\",className:\"inheritBackground\"},selected.name)),React.createElement(IonItem,{className:\"inheritBackground\"},React.createElement(IonIcon,{icon:informationCircle,className:\"icon\"}),React.createElement(IonLabel,{color:\"Dark\"},selected.cat)),React.createElement(IonItem,null,React.createElement(IonIcon,{icon:home,className:\"icon\"}),React.createElement(IonLabel,{color:\"Dark\"},selected.localidade)),React.createElement(IonButton,{color:\"danger\",expand:\"block\",onClick:function onClick(){return _this3.removeUser(element);}},\"REMOVER\"))):React.createElement(React.Fragment,null,React.createElement(IonIcon,{className:\"icon\",icon:atCircle}),React.createElement(IonLabel,{color:\"primary\"},element)));}))));}}]);return RemoveUser;}(React.Component);export default RemoveUser;","map":{"version":3,"sources":["/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/src/pages/funcionario/RemoveUser.tsx"],"names":["IonButton","IonContent","IonHeader","IonIcon","IonItem","IonLabel","IonList","IonPage","IonSearchbar","IonTitle","IonToolbar","atCircle","closeCircleSharp","home","informationCircle","person","React","getAllUsers","removeUser","selectUser","noSelection","index","name","email","cat","localidade","RemoveUser","props","state","query","lista_inicial","render_next","show_next","init","then","value","status","json","console","log","users","alert","catch","error","concat","splice","indexOf","setState","selection","res","resValue","JSON","parse","user","clearSelect","renderBefore","setQuery","stringSearch","resultado","filter","toLowerCase","selected","renderList","e","detail","map","element","Component"],"mappings":"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","sourcesContent":["import { IonButton, IonContent, IonHeader, IonIcon, IonItem, IonLabel, IonList, IonPage, IonSearchbar, IonTitle, IonToolbar } from \"@ionic/react\";\nimport { atCircle, closeCircleSharp, home, informationCircle, person } from 'ionicons/icons';\nimport React from \"react\";\nimport { getAllUsers, removeUser, selectUser } from \"../../models/API/UserAPI\";\nimport \"../css/RemoveUser.css\";\n\n\n\n//const testing = true;\n\ninterface SelectedUser{\n    index:number,\n    name:string,\n    email:string,\n    cat:string,\n    localidade:string\n}\ninterface UserBasicInfo{\n    name:string,\n    email:string,\n    cat:string,\n    localidade:string\n}\n\nconst noSelection : SelectedUser = {index:-1, name:\"string\", email:\"string\", cat:\"string\", localidade:\"string\"}\n\nclass RemoveUser extends React.Component<any> {\n    state:{\n        query:string,\n        lista_inicial:string[],\n        render_next:string[],\n        show_next:SelectedUser\n    }\n\n    constructor(props: any) {\n\n        super(props);\n\n        this.state = {  \n            query : \"\",\n            lista_inicial: [],\n            render_next: [],\n            show_next :noSelection\n        }\n    }\n\n    async componentDidMount(){\n        \n        var init:string[]=[\"Email1\",\"email2\",\"oogle.1\",\"gloogloog.2\",\"net.net\",\"yeet@3\",\"3.@yeet\",];\n        \n        await getAllUsers()\n        .then(\n            async (value) =>{\n                if (value.status === 200) {              \n                    \n                    var json = value.json();\n\n                    await json.then((value) => {\n                        console.log(value);\n                        init= value.users;\n                    });\n               \n                    } else {\n                    alert(\"REQUEST ERROR \"+value.status);\n                }\n            }).catch(function(error) {\n              alert(\"Server is currently down... \\n\\n\".concat(\"Error details: \\n\\n\\t\").concat(error));\n            });\n    \n        init.splice(init.indexOf(this.props.email), 1);\n\n        this.setState({\n            lista_inicial: init,\n            render_next: init\n        })\n    }\n    selectUser(index:number):void{\n        var selection ={name:\"\", email:\"\", cat:\"\", localidade:\"\",index:index};\n        //var apiCall:UserBasicInfo = {name:\"ByeBye\", email:\"net.net\", cat:\"Bot\", localidade:\"LocalHost\"} ;\n        if(index===this.state.show_next.index) selection=noSelection; \n        else{\n        \n        var res = selectUser(this.state.render_next[index]);\n        res.then(\n            async (value) =>{\n                if (value.status === 200) {              \n                    var json = value.json();\n                    await json.then((value) =>  {\n                        const resValue = JSON.parse(value);\n                        console.log(resValue.user)\n                        selection = {name:resValue.user.name,\n                                    email:resValue.user.email,\n                                    cat:resValue.user.cat,\n                                    localidade:resValue.user.localidade,\n                                    index:index}\n                                    this.setState({show_next : selection})\n                        console.log(\"USer Selected\");\n                    });\n                } else {\n                    alert(\"REQUEST ERROR \"+value.status);\n                }\n            }).catch(function(error) {\n              alert(\"Server is currently down... \\n\\n\".concat(\"Error details: \\n\\n\\t\").concat(error));\n            });\n        \n    }\n    \n        this.setState({show_next : selection})\n        console.log(\"END\")\n    }\n\n    removeUser(email :string):void{\n        var res = removeUser(email,this.state.show_next.cat[0]);\n        res.then(\n            async (value) =>{\n                if (value.status === 200) {\n                    alert(\"Utilizador Removido!\")\n                } else {\n                    alert(\"REQUEST ERROR \"+value.status);\n                }\n            }).catch(function(error) {\n              alert(\"Server is currently down... \\n\\n\".concat(\"Error details: \\n\\n\\t\").concat(error));\n            });\n\n            \n        var clearSelect=noSelection;\n        var renderBefore = this.state.lista_inicial;\n        renderBefore.splice(renderBefore.indexOf(email),1);\n        this.setState({\n            show_next:clearSelect,\n            lista_inicial:renderBefore,\n        })\n        this.setQuery(this.state.query)\n    }\n\n    setQuery(stringSearch: any) {\n\n        \n        var resultado = this.state.lista_inicial\n            .filter(function(value){return value.toLowerCase().indexOf(stringSearch.toLowerCase()) >= 0;});\n        this.setState({\n        \n            query: stringSearch,\n            render_next: resultado,\n            show_next:noSelection\n        })\n         \n    \n    }\n    render() {\n        var selected= this.state.show_next;\n        var renderList = this.state.render_next;\n\n        return(\n            \n            <IonPage>\n\n                <IonHeader>\n                <IonToolbar color=\"primary\">\n                <IonTitle id=\"page-title\">\n                        <IonIcon className=\"icon\" icon ={closeCircleSharp}></IonIcon>\n                        Remover um Utilizador\n                    </IonTitle>\n                </IonToolbar>\n                </IonHeader>\n                <IonToolbar>\n                <IonSearchbar value={this.state.query} onIonChange={e => this.setQuery(e.detail.value!)} placeholder=\"Email do utilizador...\">\n                </IonSearchbar>\n                </IonToolbar>\n    \n                <IonContent className=\"PageContent\">\n                \n                <IonList>\n                {renderList.map(\n                (element,index)=>\n                <IonItem key={element} className=\"item\" button={true}  onClick={() =>this.selectUser(index)}>\n                    {selected.index===index?\n                    <React.Fragment >\n                    <IonList lines=\"none\" className=\"inheritBackground\" >\n                        <IonItem className=\"inheritBackground\" >\n                        <IonIcon className=\"icon\" icon ={atCircle}></IonIcon>\n                        <IonLabel color=\"primary\" >{element}</IonLabel>\n                        </IonItem>\n                            <IonItem className=\"inheritBackground\" >\n                            <IonIcon icon={person} className=\"icon\" ></IonIcon>\n                            <IonLabel color=\"primary\" className=\"inheritBackground\">{selected.name}</IonLabel>\n                            </IonItem>\n    \n                            <IonItem className=\"inheritBackground\">\n                            <IonIcon icon={informationCircle} className=\"icon\"></IonIcon> \n                                <IonLabel color=\"Dark\">{selected.cat}</IonLabel>\n                            </IonItem>\n                            <IonItem>\n                            <IonIcon icon={home} className=\"icon\" ></IonIcon> \n                                <IonLabel color=\"Dark\">{selected.localidade}</IonLabel>\n                            </IonItem>\n                            \n                                <IonButton color=\"danger\" expand=\"block\" onClick={()=>this.removeUser(element)}>\n                                    REMOVER     \n                                </IonButton>\n                              \n                    </IonList>\n                    </React.Fragment>\n                    \n                    :\n                    <React.Fragment>\n                    <IonIcon className=\"icon\" icon ={atCircle}></IonIcon>\n                    <IonLabel color=\"primary\" >{element}</IonLabel>\n                    </React.Fragment>\n                    }\n                    \n                    </IonItem> \n                    )}\n                \n                </IonList>\n                </IonContent>\n                \n            </IonPage>    \n        );\n    }\n    \n}\nexport default RemoveUser;"]},"metadata":{},"sourceType":"module"}