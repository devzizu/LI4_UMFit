{"ast":null,"code":"var _jsxFileName = \"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/src/pages/user/EvolucaoPage/Evolucao.tsx\";\nimport { IonCard, IonCardHeader, IonCardSubtitle, IonCardTitle, IonCol, IonContent, IonGrid, IonHeader, IonItem, IonList, IonPage, IonRow, IonSelect, IonSelectOption, IonTitle, IonToolbar } from \"@ionic/react\";\nimport React from \"react\";\nimport { Line } from \"react-chartjs-2\";\nimport { getEvolucao } from \"../../../models/API/EvolucaoAPI\"; //import{Line, Pie} from \"react-chartjs-2\";\n\nimport \"../css/Evolucao.css\"; //----------------------------------------------------------------------\n//Graph settings\n\nvar generalGraphSettings = {\n  labels: [],\n  datasets: [{\n    fill: false,\n    lineTension: 0.1,\n    backgroundColor: 'rgba(75,192,192,0.4)',\n    borderColor: 'rgba(75,192,192,1)',\n    borderCapStyle: 'butt',\n    borderDash: [],\n    borderDashOffset: 0.0,\n    borderJoinStyle: 'miter',\n    pointBorderColor: 'rgba(75,192,192,1)',\n    pointBackgroundColor: '#fff',\n    pointBorderWidth: 5,\n    pointHoverRadius: 5,\n    pointHoverBackgroundColor: 'rgba(75,192,192,1)',\n    pointHoverBorderColor: 'rgba(220,220,220,1)',\n    pointHoverBorderWidth: 2,\n    pointRadius: 3,\n    pointHitRadius: 10,\n    data: []\n  }]\n};\n/*\n\nvar pieGraphSettings = {\n\tlabels: [ 'Massa Magra (kg)', 'Massa Gorda (kg)'],\n\tdatasets: [{ data: [], backgroundColor: ['#36A2EB', '#FF6384'],\n\t\thoverBackgroundColor: [ '#36A2EB', '#FF6384' ] }]\n};\n\n*/\n//----------------------------------------------------------------------\n\nconst customActionSheetOptions = {\n  header: 'Gráfico de Evolução'\n}; //----------------------------------------------------------------------\n\nclass Evolucao extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = void 0;\n    this.state = {\n      peso: new Array(),\n      massaGorda: new Array(),\n      massaMagra: new Array(),\n      cintura: new Array(),\n      //default option\n      menuOpt: \"compoCorporalOption\"\n    };\n  }\n\n  async componentDidMount() {\n    const ret = await getEvolucao();\n    ret.json().then(jsonData => {\n      if (jsonData.status !== 200) return;\n      console.log(jsonData);\n      this.setState({\n        peso: jsonData.pesos.map(elem => {\n          var dt = new Date(elem.data);\n          return Object.assign({}, {\n            data: dt,\n            y: elem.registo\n          });\n        }),\n        cintura: jsonData.cinturas.map(elem => {\n          var dt = new Date(elem.data);\n          return Object.assign({}, {\n            data: dt,\n            y: elem.registo\n          });\n        })\n      });\n    });\n  }\n\n  render() {\n    //----------------------------------------------------------------------\n    const noLegend = {\n      legend: {\n        display: false\n      }\n    }; //----------------------------------------------------------------------\n\n    var xPeso = [],\n        yPeso = [];\n    this.state.peso.forEach(ref => {\n      xPeso.push(\"\" + ref.data.getDate() + \"/\" + (ref.data.getMonth() + 1));\n      yPeso.push(ref.y);\n    });\n    var dataPeso = JSON.parse(JSON.stringify(generalGraphSettings));\n    dataPeso.labels = xPeso;\n    dataPeso.datasets[0].data = yPeso; //----------------------------------------------------------------------\n\n    /*\n    \n            var dataMG_MM_PIE: any = JSON.parse(JSON.stringify(pieGraphSettings));\n            dataMG_MM_PIE.datasets[0].data = [this.state.massaMagra.pop()?.y,\n                                              this.state.massaGorda.pop()?.y];\n    \n    */\n    //----------------------------------------------------------------------\n\n    var xCintura = [],\n        yCintura = [];\n    this.state.cintura.forEach(ref => {\n      xCintura.push(\"\" + ref.data.getDate() + \"/\" + (ref.data.getMonth() + 1));\n      yCintura.push(ref.y);\n    });\n    var dataCintura = JSON.parse(JSON.stringify(generalGraphSettings));\n    dataCintura.labels = xCintura;\n    dataCintura.datasets[0].data = yCintura; //----------------------------------------------------------------------\n\n    var menuOp = this.state.menuOpt;\n\n    if (this.state.menuOpt !== menuOp) {\n      this.setState({\n        menuOpt: menuOp\n      });\n    } //----------------------------------------------------------------------\n\n\n    return React.createElement(IonPage, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(IonHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(IonToolbar, {\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(IonTitle, {\n      id: \"page-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Evolu\\xE7\\xE3o\"))), React.createElement(IonList, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(IonItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(IonSelect, {\n      className: \"SelectionMenuItem\",\n      interfaceOptions: customActionSheetOptions,\n      value: this.state.menuOpt,\n      placeholder: \"Select One\",\n      onIonChange: e => this.setState({\n        menuOpt: e.detail.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(IonSelectOption, {\n      value: \"compoCorporalOption\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \"Composi\\xE7\\xE3o corporal\"), React.createElement(IonSelectOption, {\n      value: \"perimCorporalOption\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, \"Per\\xEDmetros corporais\")))), React.createElement(IonContent, {\n      className: \"ionContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(IonGrid, {\n      className: \"grid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(IonRow, {\n      class: \"ion-justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, (() => {\n      //Apresentar diferentes menus mediante a seleção\n      switch (this.state.menuOpt) {\n        //Caso a seleção de gráficos seja composição corporal\n        case \"compoCorporalOption\":\n          return React.createElement(React.Fragment, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 206\n            },\n            __self: this\n          }, React.createElement(IonCol, {\n            sizeXs: \"12\",\n            \"size-Sm\": \"12\",\n            sizeMd: \"6\",\n            sizeLg: \"6\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 210\n            },\n            __self: this\n          }, React.createElement(IonCard, {\n            className: \"titleCard\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 212\n            },\n            __self: this\n          }, React.createElement(IonCardHeader, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 214\n            },\n            __self: this\n          }, React.createElement(IonCardTitle, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 215\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"textWrapper\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 215\n            },\n            __self: this\n          }, \"Peso\")), React.createElement(IonCardSubtitle, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 216\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"textWrapper\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 216\n            },\n            __self: this\n          }, \"(em Kg)\")))), React.createElement(\"div\", {\n            className: \"evoStats\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 221\n            },\n            __self: this\n          }, React.createElement(Line, {\n            ref: \"lineChart\",\n            data: dataPeso,\n            options: noLegend,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 222\n            },\n            __self: this\n          }))), React.createElement(IonCol, {\n            sizeXs: \"12\",\n            \"size-Sm\": \"12\",\n            sizeMd: \"6\",\n            sizeLg: \"6\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 227\n            },\n            __self: this\n          }, React.createElement(IonCard, {\n            className: \"titleCard\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 229\n            },\n            __self: this\n          }, React.createElement(IonCardHeader, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 231\n            },\n            __self: this\n          }, React.createElement(IonCardTitle, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 232\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"textWrapper\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 232\n            },\n            __self: this\n          }, \"IMC\")), React.createElement(IonCardSubtitle, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 233\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"textWrapper\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 233\n            },\n            __self: this\n          }, \"(\\xCDndice)\")))), React.createElement(\"div\", {\n            className: \"evoStats\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 238\n            },\n            __self: this\n          }, React.createElement(Line, {\n            ref: \"lineChart\",\n            data: dataPeso,\n            options: noLegend,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 239\n            },\n            __self: this\n          }))));\n        //Caso a seleção de gráficos seja composição corporal\n\n        case \"perimCorporalOption\":\n          return React.createElement(React.Fragment, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 252\n            },\n            __self: this\n          }, React.createElement(IonCol, {\n            sizeXs: \"12\",\n            \"size-Sm\": \"12\",\n            sizeMd: \"6\",\n            sizeLg: \"6\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 255\n            },\n            __self: this\n          }, React.createElement(IonCard, {\n            className: \"titleCard\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 257\n            },\n            __self: this\n          }, React.createElement(IonCardHeader, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 259\n            },\n            __self: this\n          }, React.createElement(IonCardTitle, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 260\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"textWrapper\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 260\n            },\n            __self: this\n          }, \"Cintura\")))), React.createElement(\"div\", {\n            className: \"evoStats\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 265\n            },\n            __self: this\n          }, React.createElement(Line, {\n            ref: \"lineChart\",\n            data: dataCintura,\n            options: noLegend,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 266\n            },\n            __self: this\n          }))));\n\n        default:\n          return React.createElement(IonCol, {\n            sizeXs: \"12\",\n            \"size-Sm\": \"12\",\n            sizeMd: \"6\",\n            sizeLg: \"6\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 277\n            },\n            __self: this\n          });\n      } //close switch\n\n    } //close anonymouse function\n    )()))));\n  }\n\n}\n\nexport default Evolucao;","map":{"version":3,"sources":["/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/src/pages/user/EvolucaoPage/Evolucao.tsx"],"names":["IonCard","IonCardHeader","IonCardSubtitle","IonCardTitle","IonCol","IonContent","IonGrid","IonHeader","IonItem","IonList","IonPage","IonRow","IonSelect","IonSelectOption","IonTitle","IonToolbar","React","Line","getEvolucao","generalGraphSettings","labels","datasets","fill","lineTension","backgroundColor","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","data","customActionSheetOptions","header","Evolucao","Component","constructor","props","state","peso","Array","massaGorda","massaMagra","cintura","menuOpt","componentDidMount","ret","json","then","jsonData","status","console","log","setState","pesos","map","elem","dt","Date","Object","assign","y","registo","cinturas","render","noLegend","legend","display","xPeso","yPeso","forEach","ref","push","getDate","getMonth","dataPeso","JSON","parse","stringify","xCintura","yCintura","dataCintura","menuOp","e","detail","value"],"mappings":"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","sourcesContent":["\nimport { IonCard, IonCardHeader, IonCardSubtitle, IonCardTitle, IonCol, IonContent, IonGrid, IonHeader, IonItem, IonList, IonPage, IonRow, IonSelect, IonSelectOption, IonTitle, IonToolbar } from \"@ionic/react\";\nimport React from \"react\";\nimport { Line } from \"react-chartjs-2\";\nimport { getEvolucao } from \"../../../models/API/EvolucaoAPI\";\n//import{Line, Pie} from \"react-chartjs-2\";\nimport \"../css/Evolucao.css\";\n\n//----------------------------------------------------------------------\n//Graph settings\n\nvar generalGraphSettings = { \n    labels: [],\n    datasets: [{ \n        fill: false, lineTension: 0.1,\n        backgroundColor: 'rgba(75,192,192,0.4)', borderColor: 'rgba(75,192,192,1)',\n        borderCapStyle: 'butt', borderDash: [], borderDashOffset: 0.0, borderJoinStyle: 'miter',\n        pointBorderColor: 'rgba(75,192,192,1)', pointBackgroundColor: '#fff',\n        pointBorderWidth: 5, pointHoverRadius: 5,\n        pointHoverBackgroundColor: 'rgba(75,192,192,1)', pointHoverBorderColor: 'rgba(220,220,220,1)',\n        pointHoverBorderWidth: 2, pointRadius: 3, pointHitRadius: 10, \n        data: []\n    }]\n};\n\n/*\n\nvar pieGraphSettings = {\n\tlabels: [ 'Massa Magra (kg)', 'Massa Gorda (kg)'],\n\tdatasets: [{ data: [], backgroundColor: ['#36A2EB', '#FF6384'],\n\t\thoverBackgroundColor: [ '#36A2EB', '#FF6384' ] }]\n};\n\n*/\n\n//----------------------------------------------------------------------\n\ninterface registoAvaliacao {\n    data: Date,\n    y: number\n}\nconst customActionSheetOptions = {\n    header: 'Gráfico de Evolução'\n};\n//----------------------------------------------------------------------\n\nclass Evolucao extends React.Component<any> {\n\n    state: {\n\n        peso: Array<registoAvaliacao>\n        massaGorda: Array<registoAvaliacao>\n        massaMagra: Array<registoAvaliacao>\n\n        cintura: Array<registoAvaliacao>\n\n        menuOpt: String\n    }\n\n    constructor(props: any) {\n\n        super(props);   \n            \n        this.state = ({\n\n            peso: new Array<registoAvaliacao>(),\n            massaGorda: new Array<registoAvaliacao>(),\n            massaMagra: new Array<registoAvaliacao>(),\n\n            cintura: new Array<registoAvaliacao>(),\n            \n            //default option\n            menuOpt: \"compoCorporalOption\"\n        });\n    }\n\n    async componentDidMount() {\n      const ret =  await getEvolucao()\n        ret.json().then(\n            (jsonData : any)  => {\n                if(jsonData.status !== 200) return;\n                console.log(jsonData)\n                this.setState({\n\n                    peso: jsonData.pesos.map((elem: any) => {\n                        \n                        var dt = new Date (elem.data);\n                        return Object.assign({}, {data: dt, y: elem.registo});\n                    }                       \n                    ),\n                    cintura: jsonData.cinturas.map((elem: any) => {                        \n                        var dt = new Date (elem.data);\n                        return Object.assign({}, {data: dt, y: elem.registo});\n                })\n                \n            });\n\n            }   \n        );\n    }\n\n    render() {\n\n\n        //----------------------------------------------------------------------\n\n        const noLegend={ legend: { display: false} }; \n        \n        //----------------------------------------------------------------------\n\n        var xPeso: any[] = [], yPeso: number[] = [];\n        this.state.peso.forEach((ref)=>{\n            xPeso.push(\"\"+ref.data.getDate()+\"/\"+(ref.data.getMonth()+1));\n            yPeso.push(ref.y);\n        });\n        var dataPeso: any = JSON.parse(JSON.stringify(generalGraphSettings));\n        dataPeso.labels = xPeso;\n        dataPeso.datasets[0].data = yPeso;\n\n        //----------------------------------------------------------------------\n\n/*\n\n        var dataMG_MM_PIE: any = JSON.parse(JSON.stringify(pieGraphSettings));\n        dataMG_MM_PIE.datasets[0].data = [this.state.massaMagra.pop()?.y,\n                                          this.state.massaGorda.pop()?.y];\n\n*/                                          \n\n        //----------------------------------------------------------------------\n\n        var xCintura : any[] = [], yCintura: number[] = [];\n        this.state.cintura.forEach((ref) => {\n            xCintura.push(\"\"+ref.data.getDate()+\"/\"+(ref.data.getMonth()+1));\n            yCintura.push(ref.y);\n        });\n        var dataCintura: any = JSON.parse(JSON.stringify(generalGraphSettings));\n        dataCintura.labels = xCintura;\n        dataCintura.datasets[0].data = yCintura;\n\n        //----------------------------------------------------------------------\n\n        var menuOp = this.state.menuOpt;\n        \n        if(this.state.menuOpt !== menuOp) {\n\n            this.setState( { menuOpt: menuOp } )\n        } \n\n        //----------------------------------------------------------------------\n\n        return(\n\n            <IonPage>\n            \n                {/* Page title */}\n\n                <IonHeader>\n                    <IonToolbar color=\"primary\">\n                        <IonTitle id=\"page-title\">Evolução</IonTitle>\n                    </IonToolbar>\n                </IonHeader>\n            \n                {/* Menu superior para escolha de grupo de gráficos */}\n            \n                <IonList>\n                    \n                    {/*\n                    <IonListHeader>\n                        <IonLabel></IonLabel>\n                    </IonListHeader>\n                    */}\n\n                    <IonItem>\n    \n                            <IonSelect className=\"SelectionMenuItem\" interfaceOptions={customActionSheetOptions} value={this.state.menuOpt} placeholder=\"Select One\" onIonChange={\n                                e =>this.setState( {menuOpt:e.detail.value})\n                            }>\n\n                                <IonSelectOption value=\"compoCorporalOption\">Composição corporal</IonSelectOption>\n                                <IonSelectOption value=\"perimCorporalOption\">Perímetros corporais</IonSelectOption>\n\n                            </IonSelect>\n                    </IonItem>\n\n                </IonList>\n\n                {/* Gráficos disponiveis */}\n\n                <IonContent className=\"ionContent\">\n                \n                <IonGrid className=\"grid\">\n\n                    <IonRow class=\"ion-justify-content-center\">\n                    \n                        {( () => {\n                            \n                            //Apresentar diferentes menus mediante a seleção\n                            switch(this.state.menuOpt) {\n                                \n                                //Caso a seleção de gráficos seja composição corporal\n                                case \"compoCorporalOption\": \n                                \n                                    return(\n\n                                        <React.Fragment>\n                                            \n                                            {/* Gráfico de Evolução do Peso */}\n\n                                            <IonCol sizeXs=\"12\" size-Sm =\"12\" sizeMd=\"6\" sizeLg=\"6\">\n\n                                                <IonCard className=\"titleCard\">\n\n                                                    <IonCardHeader>\n                                                        <IonCardTitle><div className=\"textWrapper\">Peso</div></IonCardTitle>\n                                                        <IonCardSubtitle><div className=\"textWrapper\">(em Kg)</div></IonCardSubtitle>\n                                                    </IonCardHeader>\n\n                                                </IonCard>\n\n                                                <div className=\"evoStats\">\n                                                    <Line ref=\"lineChart\" data={dataPeso} options={noLegend} />\n                                                </div>\n\n                                            </IonCol>\n\n                                            <IonCol sizeXs=\"12\" size-Sm =\"12\" sizeMd=\"6\" sizeLg=\"6\">\n\n                                                <IonCard className=\"titleCard\">\n\n                                                    <IonCardHeader>\n                                                        <IonCardTitle><div className=\"textWrapper\">IMC</div></IonCardTitle>\n                                                        <IonCardSubtitle><div className=\"textWrapper\">(Índice)</div></IonCardSubtitle>\n                                                    </IonCardHeader>\n\n                                                </IonCard>\n\n                                                <div className=\"evoStats\">\n                                                    <Line ref=\"lineChart\" data={dataPeso} options={noLegend} />\n                                                </div>\n\n                                            </IonCol>\n\n                                        </React.Fragment>\n                                    );\n\n                                //Caso a seleção de gráficos seja composição corporal\n                                case \"perimCorporalOption\": \n                                \n                                    return(\n\n                                        <React.Fragment>\n                                            \n                                            {/* Gráfico de Evolução do Peso */}\n                                            <IonCol sizeXs=\"12\" size-Sm =\"12\" sizeMd=\"6\" sizeLg=\"6\">\n\n                                                <IonCard className=\"titleCard\">\n\n                                                    <IonCardHeader>\n                                                        <IonCardTitle><div className=\"textWrapper\">Cintura</div></IonCardTitle>\n                                                    </IonCardHeader>\n\n                                                </IonCard>\n\n                                                <div className=\"evoStats\">\n                                                    <Line ref=\"lineChart\" data={dataCintura} options={noLegend} />\n                                                </div>\n\n                                            </IonCol>\n\n                                        </React.Fragment>\n                                    );\n\n                                    default:\n                                        \n                                        return( \n                                            <IonCol sizeXs=\"12\" size-Sm =\"12\" sizeMd=\"6\" sizeLg=\"6\">\n                                            {/* Empty option */}\n                                            </IonCol>\n                                        );\n\n                            } //close switch\n\n                        } //close anonymouse function\n                    ) ()}\n\n                    </IonRow>\n\n                </IonGrid>\n\n            </IonContent>\n            \n\n        </IonPage>\n        );\n    }\n\n}\n\nexport default Evolucao;"]},"metadata":{},"sourceType":"module"}