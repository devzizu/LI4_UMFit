{"ast":null,"code":"import _regeneratorRuntime from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@babel/runtime/helpers/esm/inherits\";import{IonButton,IonCard,IonCardHeader,IonCardTitle,IonContent,IonDatetime,IonHeader,IonIcon,IonItem,IonLabel,IonList,IonPage,IonRow,IonSearchbar,IonTitle,IonToolbar}from\"@ionic/react\";import{calendarOutline,personCircle,personCircleOutline}from\"ionicons/icons\";import React from\"react\";import{getAvaliacoesAgendadas,setAvaliacao}from\"../../models/API/EvolucaoAPI\";import{getInstrutores}from\"../../models/API/UserAPI\";import'./css/AgendarAvaliacao.css';var avalInicial={data:new Date().toLocaleString(),instrutor_nome:\"\",instrutor_email:\"\"};var searchInit={query:\"\",list_init:[],list_now:[]};var AgendarAvaliacao=/*#__PURE__*/function(_React$Component){_inherits(AgendarAvaliacao,_React$Component);function AgendarAvaliacao(props){var _this;_classCallCheck(this,AgendarAvaliacao);_this=_possibleConstructorReturn(this,_getPrototypeOf(AgendarAvaliacao).call(this,props));_this.state=void 0;_this.state={email:props.email,aval:avalInicial,avals:[],instrutores:new Map(),pickInstrutor:searchInit};return _this;}_createClass(AgendarAvaliacao,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var avals,map,pick,res,res2;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:avals=[];map=new Map();pick=this.state.pickInstrutor;_context.next=5;return getAvaliacoesAgendadas(this.state.email);case 5:res=_context.sent;_context.next=8;return getInstrutores();case 8:res2=_context.sent;_context.next=11;return res.json().then(function(data){avals=JSON.parse(data).avaliacoes;});case 11:_context.next=13;return res2.json().then(function(data){var ret=data.instrutores;var i;for(i in ret){map.set(i,ret[i]);pick.list_init.push(i);}});case 13:this.setState({avals:avals,pickInstrutor:pick,instrutores:map});case 14:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"setDate\",value:function setDate(date){var aval=this.state.aval;aval.data=date;this.setState({aval:aval});}},{key:\"setQuery\",value:function setQuery(query){console.log(this.state);var pick=this.state.pickInstrutor;pick.query=query;if(query===\"\"){pick.list_now=[];}else{pick.list_now=this.state.pickInstrutor.list_init.filter(function(value){return value.toLowerCase().indexOf(query.toLowerCase())>=0;}).slice(0,4);}this.setState({pickInstrutor:pick});}},{key:\"selectInstrutor\",value:function(){var _selectInstrutor=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(mail){var aval,st,nome,resetSearch;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:aval=this.state.aval;st=this.state.instrutores.get(mail);nome=st?st:\"\";console.log(st);resetSearch={query:\"\",list_now:[],list_init:this.state.pickInstrutor.list_init};aval.instrutor_email=mail;aval.instrutor_nome=nome;this.setState({aval:aval,pickInstrutor:resetSearch});case 8:case\"end\":return _context2.stop();}}},_callee2,this);}));function selectInstrutor(_x){return _selectInstrutor.apply(this,arguments);}return selectInstrutor;}()},{key:\"setAgendacao\",value:function setAgendacao(){setAvaliacao(this.state.email,this.state.aval).then(function(data){console.log(data.status);});alert(\"Avaliação Marcada\");window.location.reload();}},{key:\"render\",value:function render(){var _this2=this;var localVals=this.state.avals;return React.createElement(IonPage,null,React.createElement(IonHeader,null,React.createElement(IonToolbar,{color:\"primary\"},React.createElement(IonTitle,{id:\"page-title\"},\"Agenda de Avalia\\xE7\\xF5es\"))),React.createElement(IonContent,null,React.createElement(IonCard,{className:\"cardAval\"},React.createElement(IonCardHeader,null,React.createElement(IonItem,null,React.createElement(IonCardTitle,{className:\"cardTitle\"},React.createElement(\"b\",null,\"Agendar Avalia\\xE7\\xE3o\"),\" \"),React.createElement(IonButton,{color:\"success\",onClick:function onClick(){return _this2.setAgendacao();},slot:\"end\"},\"Submeter\"))),React.createElement(IonItem,null,React.createElement(IonIcon,{icon:calendarOutline}),React.createElement(IonLabel,{className:\"data\"},\" \",React.createElement(\"b\",null,\"\\xA0\"),\"Data:\"),React.createElement(IonDatetime,{displayFormat:\"DD-MM-YYYY HH:mm\",value:this.state.aval.data,onIonChange:function onIonChange(e){return _this2.setDate(e.detail.value);}})),React.createElement(IonItem,null,React.createElement(IonIcon,{icon:personCircleOutline}),React.createElement(IonLabel,null,\"\\xA0Instrutor:\"),React.createElement(IonLabel,{slot:\"end\"},this.state.aval.instrutor_nome)),React.createElement(IonItem,null,React.createElement(IonLabel,null,\"Instrutor:\"),React.createElement(IonToolbar,null,React.createElement(IonSearchbar,{value:this.state.pickInstrutor.query,onIonChange:function onIonChange(e){return _this2.setQuery(e.detail.value);},placeholder:\"Email do instrutor...\"}))),this.state.pickInstrutor.list_now.length!==0?React.createElement(IonItem,null,React.createElement(IonList,null,this.state.pickInstrutor.list_now.map(function(element){return React.createElement(IonItem,{key:element,className:\"item\",button:true,onClick:function onClick(){return _this2.selectInstrutor(element);}},React.createElement(IonIcon,{className:\"icon\",icon:personCircle}),React.createElement(IonLabel,{color:\"primary\"},element));}))):React.createElement(React.Fragment,null)),React.createElement(IonRow,{className:\"avalRow\"},localVals.map(function(elem){return React.createElement(IonCard,{key:elem.data+elem.instrutor_nome,className:\"cardCol\"},React.createElement(IonItem,null,React.createElement(IonIcon,{icon:calendarOutline}),React.createElement(IonLabel,null,\"\\xA0Data: \",elem.data)),React.createElement(IonItem,null,React.createElement(IonIcon,{icon:personCircleOutline}),React.createElement(IonLabel,null,\"\\xA0Instrutor: \",elem.instrutor_nome)));})),React.createElement(IonCard,{className:\"cardAval\"})));}}]);return AgendarAvaliacao;}(React.Component);export default AgendarAvaliacao;","map":{"version":3,"sources":["/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/src/pages/user/AgendarAvaliacao.tsx"],"names":["IonButton","IonCard","IonCardHeader","IonCardTitle","IonContent","IonDatetime","IonHeader","IonIcon","IonItem","IonLabel","IonList","IonPage","IonRow","IonSearchbar","IonTitle","IonToolbar","calendarOutline","personCircle","personCircleOutline","React","getAvaliacoesAgendadas","setAvaliacao","getInstrutores","avalInicial","data","Date","toLocaleString","instrutor_nome","instrutor_email","searchInit","query","list_init","list_now","AgendarAvaliacao","props","state","email","aval","avals","instrutores","Map","pickInstrutor","map","pick","res","res2","json","then","JSON","parse","avaliacoes","ret","i","set","push","setState","date","console","log","filter","value","toLowerCase","indexOf","slice","mail","st","get","nome","resetSearch","status","alert","window","location","reload","localVals","setAgendacao","e","setDate","detail","setQuery","length","element","selectInstrutor","elem","Component"],"mappings":"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","sourcesContent":["import { IonButton, IonCard, IonCardHeader, IonCardTitle, IonContent, IonDatetime, IonHeader, IonIcon, IonItem, IonLabel, IonList, IonPage, IonRow, IonSearchbar, IonTitle, IonToolbar } from \"@ionic/react\";\nimport { calendarOutline, personCircle, personCircleOutline } from \"ionicons/icons\";\nimport React from \"react\";\nimport { getAvaliacoesAgendadas, setAvaliacao } from \"../../models/API/EvolucaoAPI\";\nimport { getInstrutores } from \"../../models/API/UserAPI\";\nimport './css/AgendarAvaliacao.css';\n\n\n\nexport interface AvaliacaoAgendada{\n    data : string\n    instrutor_nome : string\n    instrutor_email : string\n}\n\n\ninterface SearchBar{\n    query : string;\n    list_init : string[];\n    list_now : string[]\n}\nconst avalInicial : AvaliacaoAgendada  = {\n    data : new Date().toLocaleString(),\n    instrutor_nome : \"\",\n    instrutor_email: \"\"\n}\nconst searchInit : SearchBar = {\n    query : \"\",\n    list_init : [],\n    list_now : []\n}\n\nclass AgendarAvaliacao extends React.Component<any>{\n    state:{\n        email : string;\n        aval : AvaliacaoAgendada;\n        avals : AvaliacaoAgendada[];\n        instrutores : Map<string,string>;\n       pickInstrutor : SearchBar; \n    }\n\n    constructor(props : any){\n        super(props);\n        this.state={\n            email :props.email,\n            aval : avalInicial,\n            avals : [],\n            instrutores : new Map(),\n            pickInstrutor : searchInit\n        }\n    }\n    \n    async componentDidMount(){\n        var avals : AvaliacaoAgendada[] =[];\n        var map : Map<string,string> = new Map<string,string>() ;\n        var pick : SearchBar = this.state.pickInstrutor;\n        const res = (await getAvaliacoesAgendadas(this.state.email));\n        const res2 = (await getInstrutores());\n        await res.json().then((data)=>{\n\n            avals = JSON.parse(data).avaliacoes;\n        });\n        await res2.json().then((data)=>{\n            var ret = data.instrutores;\n            var i;\n            for( i in ret){\n           map.set(i,ret[i]);\n           pick.list_init.push(i);\n        }\n        });\n\n        \n        this.setState({ avals: avals, pickInstrutor :pick ,instrutores : map });\n    }\n\n    setDate(date : string){\n        var aval : AvaliacaoAgendada = this.state.aval;\n        aval.data=date;\n        this.setState({aval : aval });\n    }\n    setQuery(query : string){\n        console.log(this.state);\n        var pick = this.state.pickInstrutor;\n        pick.query = query;\n        if(query===\"\"){pick.list_now=[]}\n            else{\n        pick.list_now = (this.state.pickInstrutor.list_init.filter((value)=> value.toLowerCase().indexOf(query.toLowerCase()) >= 0)).slice(0,4);}\n        this.setState({\n            pickInstrutor : pick\n        })\n\n    }\n   async selectInstrutor(mail: string) {\n        var aval = this.state.aval;\n        var st = this.state.instrutores.get(mail);\n        var nome = st ? st : \"\" ;\n        console.log(st);\n        \n        var resetSearch :SearchBar ={query: \"\",list_now :[],list_init : this.state.pickInstrutor.list_init } \n        \n\n\n        aval.instrutor_email = mail;    \n        aval.instrutor_nome = nome;\n        this.setState({ aval: aval, pickInstrutor: resetSearch })\n    }\n\n    setAgendacao() {\n        setAvaliacao(this.state.email,this.state.aval).then(\n            (data) => {\n                console.log(data.status);\n            }\n        )\n        alert(\"Avaliação Marcada\");\n        window.location.reload();\n    }\n\n\n    render(){\n        var localVals = this.state.avals;\n    \n        \n\n\n\n\n        return(\n            <IonPage>\n    \n            <IonHeader>\n              <IonToolbar color=\"primary\">\n                <IonTitle id=\"page-title\">Agenda de Avaliações</IonTitle>\n              </IonToolbar>\n            </IonHeader>\n            <IonContent>\n    \n    <IonCard className=\"cardAval\">\n        <IonCardHeader>\n            <IonItem>\n        <IonCardTitle className = \"cardTitle\"><b>Agendar Avaliação</b> </IonCardTitle>\n        <IonButton color=\"success\" onClick={()=>this.setAgendacao()} slot=\"end\">\n            Submeter\n        </IonButton>\n        </IonItem>\n        </IonCardHeader>\n        <IonItem>\n\n        <IonIcon icon={calendarOutline}></IonIcon>\n        <IonLabel className=\"data\" > <b>&nbsp;</b>Data:</IonLabel>\n              <IonDatetime  displayFormat=\"DD-MM-YYYY HH:mm\" value={this.state.aval.data} onIonChange={e => this.setDate(e.detail.value!)}></IonDatetime>\n\n        </IonItem>\n        <IonItem>\n        <IonIcon icon={personCircleOutline}></IonIcon>\n        <IonLabel>\n        &nbsp;Instrutor: \n        </IonLabel>\n        <IonLabel slot=\"end\">\n              {this.state.aval.instrutor_nome}\n        </IonLabel>\n    </IonItem>\n        <IonItem>\n              <IonLabel>Instrutor:</IonLabel>\n              <IonToolbar>\n                    <IonSearchbar value={this.state.pickInstrutor.query} onIonChange={e => this.setQuery(e.detail.value!)} placeholder=\"Email do instrutor...\">\n                    </IonSearchbar>\n            </IonToolbar>\n            </IonItem>{this.state.pickInstrutor.list_now.length!==0? (\n        <IonItem>\n            <IonList>\n                    {this.state.pickInstrutor.list_now.map(\n                    (element)=> { return(\n                    <IonItem key={element} className=\"item\" button={true}  onClick={() =>this.selectInstrutor(element)}>\n                        <IonIcon className=\"icon\" icon ={personCircle}></IonIcon>\n                        <IonLabel color=\"primary\" >{element}</IonLabel>\n                    </IonItem>\n                    )}\n                    )}\n    </IonList>\n    </IonItem>\n            ):(<React.Fragment></React.Fragment>) }\n            \n\n</IonCard>\n\n<IonRow className=\"avalRow\">\n{localVals.map((elem)=>\n    \n    <IonCard key={elem.data + elem.instrutor_nome} className=\"cardCol\">\n    <IonItem><IonIcon icon={calendarOutline }></IonIcon><IonLabel>&nbsp;Data: {elem.data}</IonLabel></IonItem>\n    <IonItem><IonIcon icon={personCircleOutline}></IonIcon><IonLabel>&nbsp;Instrutor: {elem.instrutor_nome}</IonLabel></IonItem>\n    </IonCard>\n   \n)}\n</IonRow>\n\n<IonCard className = \"cardAval\">\n\n</IonCard>\n</IonContent>\n\n</IonPage>\n        )\n}\n    \n}\n\nexport default AgendarAvaliacao;"]},"metadata":{},"sourceType":"module"}